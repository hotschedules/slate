<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>HotSchedules IoT Platform - API Reference</title>

    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["Code Examples"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a class="bodhi-logo" href="http://docs.bodhi.space"> <img src="images/logo.png" /> </a>
        <div class="lang-selector">
              <a href="#" data-language-name="Code Examples">Code Examples</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="hotschedules-iot-platform">HotSchedules IoT Platform</h1>

<p>The HotSchedules Bodhi Platform is a set of REST APIs that power the Clarifi suite of applications - gathering data from a variety of sources and allowing a restaurant manager to gain both just-in-time as well as forward-looking insights into how they can improve their business.</p>

<p>This document is meant to be a resource for software developers who want to interact with our data set.  We will be taking a particular eye towards interacting with existing point-of-sale and existing labor schedule data, as well as how to pass in point-of-sale data in our canonical data model, so that applications can consume it.</p>

<h2 id="building-blocks"><strong>Building Blocks</strong></h2>

<p>The Bodhi Platform is built as a series of <strong>namespaces</strong>.  A <strong>namespace</strong> represents the data store for 1 company, and has a collection of <strong>stores</strong> under it.  A store represents a single venue, and some of the elements of a store are what you would expect from a venue: address, business hours, etc.</p>

<p><strong>Users</strong> can be created within a namespace and assigned to a set of stores within a hierarchy, and assigned <strong>profiles</strong> that are sets of permissions to control what they can or cannot do within various applications.</p>

<p>An <strong>admin</strong> profile represents the top level of permissions within a namespace, and is needed in order to GET and POST data to our REST APIs.</p>

<p>For our purposes within this document, we are going to refer to users as people or machines who have access to a username and password that has the admin profile within their namespace, and can thus authenticate to the API.</p>

<p>To move forward, make sure you have acquired the following:</p>

<ul>
<li>A namespace</li>
<li>A username and password with the admin profile</li>
</ul>

<p>We will be using Postman as our tool to test and validate many of the elements discussed within this doc, so we highly recommend taking a moment to download it and familiarize yourself with its functionality.  Our Platform also includes a Query tool and additional interactive docs that you can use to interact with our dataset (keep reading!).</p>

<h2 id="urls"><strong>URLs</strong></h2>

<p>The Bodhi Platform is built around a central URL:  <a href="https://api.hotschedules.io">https://api.hotschedules.io</a>.  We also have components and applications available at other tiers such as,</p>

<p><a href="https://tools.hotschedules.io">https://tools.hotschedules.io</a></p>

<p><a href="https://apps.hotschedules.io">https://apps.hotschedules.io</a></p>

<p>The syntax of your URL will include your namespace name within it.  For example, a call to return data about all of the Stores in your namespace would look like this:</p>

<p><a href="https://api.hotschedules.io/namespace/resources/Store">https://api.hotschedules.io/namespace/resources/Store</a></p>

<p>You’ll be seeing this a lot.  Our API uses Mongo DB for storage, so to learn more about this foundation, see this link: <a href="http://docs.mongodb.org/manual/reference/operator">http://docs.mongodb.org/manual/reference/operator</a></p>

<p>You may be unfamiliar with the REST query syntax.  If you’re familiar with SQL, you should note the same types of SQL query operations are possible using the REST API.  </p>

<p>To learn more about the semantic differences, see this document: <a href="http://docs.mongodb.org/manual/reference/sql-comparison">http://docs.mongodb.org/manual/reference/sql-comparison</a>.  No need to do it right now - you can come back to it later!</p>

<h2 id="tokens"><strong>Tokens</strong></h2>

<p>Authenticating to the REST API requires generating a JWT, or Java Web Token.  For more information around JWTs, see this link: https://jwt.io/introduction/</p>

<p>Internally, we refer to capturing and refreshing JWTs as “IDM” or “Identity Management” &ndash; so if you see or hear reference to IDM, they are talking about authenticating a user via a JWT (as opposed to a simple username/password combo).</p>

<p>For more details on IDM, please click <a href="https://help.hotschedules.com/hc/en-us/articles/115001464671-IDM-Creating-Your-Global-Profile">HERE</a>.</p>

<p>Before you can retrieve your token, follow these simple setup steps before proceeding.</p>

<p><strong>Step 1:</strong> <a href="https://help.hotschedules.com/hc/en-us/articles/115001464671-IDM-Creating-Your-Global-Profile">Create your global profile</a>.<br>
<strong>Step 2:</strong> Obtain your API credentials from HotSchedules if you have not already done so.<br>
<strong>Step 3:</strong> Login into the <a href="https://tools.hotschedules.io/account/#/">Account Manager</a><br>
<strong>Step 4:</strong> In the upper right corner, select the wrench icon, then keychain, then your namespace.<br>
<strong>Step 5:</strong> Enter your API credentials as provided by hotSchedules and click save.<br>
<strong>Step 6:</strong> Continue with the example below to retrieve your token.</p>

<p>Your application will need to not only pass a JWT as part of requests it makes to the REST API, but also refresh that token programmatically when it expires.</p>

<p>To generate a JWT, you’ll need to POST your request to the following URL:
https://login.hotschedules.io/auth/realms/hotschedules/protocol/openid-connect/token</p>

<p>With the following information:</p>

<p><strong>Header</strong> </p>

<ul>
<li>content-type: application/x-www-form-urlencoded</li>
</ul>

<p><strong>Params</strong></p>

<ul>
<li><p><strong>grant_type</strong> </p>

<ul>
<li>Value must be &ldquo;password&rdquo; </li>
</ul></li>
<li><p><strong>client_id</strong></p>

<ul>
<li>Value must be &ldquo;urn:mace:oidc:hotschedules.com&rdquo;</li>
</ul></li>
<li><p><strong>username</strong> (this is your global profile username)</p>

<ul>
<li>Value should reflect the username of account you’re requesting tokens for</li>
</ul></li>
<li><p><strong>password</strong> (this is your global profile password)</p>

<ul>
<li>Value should reflect the password of the account you’re requesting tokens for</li>
</ul></li>
</ul>

<p>You should return 3 items:</p>

<ul>
<li>Access token</li>
<li>Refresh_token</li>
<li>Id_token</li>
</ul>

<p><strong>The Id_token is your JWT &ndash; save that!</strong></p>

<p>Here’s an example response (with the JWT bolded)</p>

<p><img title="ID_token" alt="alt text" src="images/tokenimg.png?raw=true" /></p>

<p>The tokens generally are active for 8 hours, and thus would need to be refreshed on that schedule.  Refreshing the token is very similar, just hit this URL:</p>

<p><a href="https://login.hotschedules.io/auth/realms/hotschedules/protocol/openid-connect/token">https://login.hotschedules.io/auth/realms/hotschedules/protocol/openid-connect/token</a></p>

<p><strong>Header</strong> </p>

<ul>
<li>content-type: application/x-www-form-urlencoded</li>
</ul>

<p><strong>Params</strong></p>

<ul>
<li><p><strong>grant_type</strong> </p>

<ul>
<li>Value must be &ldquo;refresh_token&rdquo; </li>
</ul></li>
<li><p><strong>client_id</strong></p>

<ul>
<li>Value must be &ldquo;urn:mace:oidc:hotschedules.com&rdquo;</li>
</ul></li>
<li><p><strong>refresh_token</strong></p>

<ul>
<li>Value should reflect the token you are attempting to refresh</li>
</ul></li>
</ul>

<p>As a human interacting with this data, generating a new token each time is handy to do, but your application should eventually automate the process of refreshing its token.</p>

<p><strong>Now that you know how to authenticate to the REST API, let’s create a Store!</strong></p>

<h2 id="creating-a-store">Creating A Store</h2>

<p>We have a namespace, but we have no stores to post any data to!  Let’s fix that right now.</p>

<p>As mentioned before, the Store endpoint is:
<a href="https://api.hotschedules.io/namespace/resources/Store">https://api.hotschedules.io/namespace/resources/Store</a></p>

<p>The Store endpoint allows you to post and receive a great deal of information about the configuration of your store - addresses, contact information, business hours, an identifying image, etc.  </p>

<p>The minimum amount of data to pass in to create a Store in your namespace, and the expected types, are:</p>

<p>{
    &ldquo;name&rdquo;: &ldquo;String&rdquo;,
    &ldquo;display_name&rdquo;: &ldquo;String&rdquo;,
    &ldquo;store_number&rdquo;: &ldquo;String&rdquo;,
    &ldquo;organization_id&rdquo;: &ldquo;String&rdquo;,
    &ldquo;concept&rdquo;: &ldquo;String&rdquo;,
    &ldquo;status&rdquo;: &ldquo;String&rdquo;,
    &ldquo;website_url&rdquo;: &ldquo;String&rdquo;,
    &ldquo;telephone&rdquo;: &ldquo;String&rdquo;,
    &ldquo;timezone&rdquo;: &ldquo;String&rdquo;,
    &ldquo;organization_name&rdquo;: &ldquo;String&rdquo;
}</p>

<p>If you replace the “Strings” in the above example with actual data corresponding with your restaurant, POST that to the URL above with your JWT as the bearer token, you should receive a Status: 201 response with the text: “Created”.<br>
Success!  Nicely done, you’ve created your first store.</p>

<p>If you get an error message, the Store endpoint will give you some additional information about an object that may be misattributed, or an error in the syntax.</p>

<p><strong>What are all these IDs?</strong></p>

<p>You’ll be interacting with several different types of IDs throughout this process, and it’s important to keep these straight.
Many of these IDs are meant as an “external reference” value, to match an ID that may be in place within a different application, either within the Clarifi ecosystem or external, as opposed to a “sys_id” which is meant to identify a particular object within the Mongodb database the REST API is calling.</p>

<p>A “concept ID” is a value meant to indicate a grouping of stores, so each store will need its own “store_number” and multiple stores can roll up to a single “concept” ID.</p>

<h2 id="introducing-the-bodhi-query-tool">Introducing the Bodhi Query Tool</h2>

<p>Before we move away from interacting with Stores and start interacting with individual components, it’s time to familiarize yourself with the Query tool - a handy way to interact with the API within our product itself!</p>

<p>The Query tool can be found at this URL:
<a href="https://tools.hotschedules.io/query">https://tools.hotschedules.io/query</a></p>

<p>The Query tool will save you a lot of time, in that it has a UI that will allow you to input the parameters you are attempting to search, auto-fill in with available options, and provide you with the output as well as the final URL you can use to access your data.</p>

<p>In the top nav bar, enter Store and click Send.  As long as the drop down on the left is set to GET, you will be performing a GET on the Store type and the API should return all the data about Stores in your namespace.</p>

<p><img title="ID_token" alt="alt text" src="images/qu1.JPG?raw=true" /></p>

<p>If, in the previous step, you went hog wild and created several stores, you may want to search just for one particular store, maybe the first one you created.  So let’s look at how the UI allows you to narrow your search.  In this case let’s grab the sys_id of one particular store, and then do a GET to get <em>just</em> the data related to that Store object.</p>

<p>In the Fields box, click to open the drop down of available fields, and choose display_name and sys_id.  Click Send!</p>

<p><img title="ID_token" alt="alt text" src="images/qu2.JPG?raw=true" /></p>

<p>In my namespace, this returns just the display_name and sys_id of all my stores:</p>

<p><img title="ID_token" alt="alt text" src="images/qu3.JPG?raw=true" /></p>

<p>If I want to just see the data for my store “Airwaves Cafe”, I can then plug the sys_id in the “where” clause of the tool:</p>

<p><img title="ID_token" alt="alt text" src="images/qu4.JPG?raw=true" /></p>

<p>As you gain more experience with the Bodhi REST API, it is likely that the Query tool will become a very good friend of yours.</p>

<p>Now that we’re able to authenticate to the API,  create and get objects, and use the Query tool, let’s talk about POS data.</p>

<h1 id="clarifi-api-service">Clarifi API Service</h1>

<h2 id="introduction">Introduction</h2>

<p>We have built multiple POS integrations that source raw data in a variety of ways - SQL queries, DBF files, APIs - and transform that data into a generalized format that we refer to as “canonical”.  Since different POS’s have different object names, types, and other architectures, transforming that data into a canonical format helps provide a standard dataset that the different Clarifi applications to call to and consume in order to provide value to their users.</p>

<p>Thus, if you are tasked with building a POS integration of your own to enable your customers to use Clarifi, then you will need to pass in some canonical data.  So let’s take a look at what it is!</p>

<p><strong>StoreInfo</strong> and <strong>StoreBusinessDay</strong></p>

<p>There are two main components to the Clarifi POS canonical data model.  We collect <strong>definitions</strong> of elements at a store - the employees, their job codes and pay rates, menu items and their pricing, sales categories, revenue centers, and more!  These elements collectively we refer to as StoreInfo.  Secondly, we collect events that occur at the store - the transactions that were generated, the items that were sold, sales totals, timecards that are generated, and more.  These items were collectively refer to as StoreBusinessDay.</p>

<ul>
<li><p>StoreInfo = definition of elements</p></li>
<li><p>StoreBusinessDay = events involving those elements</p></li>
</ul>

<p>For example, a StoreBusinessDay timecard may indicate that Employee #12 clocked in as Job 26 at 3:00pm - a Clarifi application would take this data from StoreBusinessDay and be able to lookup to StoreInfo that Employee #12 is named David and Job 26 is Bartender, and give information to an end user about Jason clocking in as a Bartender.</p>

<p>Let’s take a look at the Types of data that make up StoreInfo and StoreBusinessDay, and then we’ll take a look at how exactly to pass that information into our REST API.</p>

<p><strong>StoreInfo types</strong></p>

<p><strong><em>PosEmployee:</em></strong> PosEmployee’s represent a list of data about the employee profiles that are housed in the POS.</p>

<p>Here’s a breakdown:</p>

<ul>
<li> Name - The first and last name of the employee</li>
<li> Nickname - The employee’s nickname or assumed moniker.</li>
<li> Birthdate - the employee’s date of birth</li>
<li> Addresses - The street, city, state, zipcode, and country assigned to the employee</li>
<li> Emails - the employee’s email address</li>
<li> Status - whether or not the employee is terminated</li>
<li> Employment Period - the span of time between the employee’s hire date and last day.</li>
<li> Instore_id - A ID meant to identify the employee at the store level</li>
<li> HR ID - An ID meant to identify the employee at a company level (i.e. across multiple stores)</li>
<li> Phone Numbers - the employee’s phone numbers</li>
</ul>

<p><strong>Additional StoreInfo types:</strong></p>

<p><strong><em>PosJob:</em></strong> A comprehensive list of jobs or roles available for employees to clock in as.<br>
<strong><em>pmPosEmployeePosition:</em></strong> An employee position indicates which PosEmployees are assigned which PosJobs, along with their designated payrate.<br>
<strong><em>PosRevenueCenter:</em></strong> A list of revenue centers within a venue, such as “Bar” “Patio” “Dining Room”, etc.<br>
<strong><em>PosSalesCategory:</em></strong> A list of types of items being sold at this venue, such as “Food”, “Liquor” ,“Beer”, “NA Bev”, “Retail”, etc.<br>
<strong><em>PosMenu:</em></strong> A list of menus available within the POS, such as “Dinner”, “Happy Hour”, etc<br>
<strong><em>PosMenuItems:</em></strong> A list of menu items and pricing available for sale at the venue.<br>
<strong><em>PosMenuModifiers:</em></strong> A list of menu items that would be classified as modifiers, i.e. attachments to menu items.</p>

<p><strong>StoreBusinessDay Types</strong></p>

<p><strong><em>PosPunch:</em></strong> The punch records that are present in the point of sale system.
<br>
<strong><em>PosCheck:</em></strong> The different transactions at a restaurant.
<br>
<strong><em>PosCheckItem:</em></strong> The items that make up a transaction. Items listed here roll into PosCheck.</p>

<p>A full breakdown of each type can be found in the <strong>Getting Data From Clarifi</strong> section below.</p>

<h2 id="do-i-have-to-send-you-all-this-stuff?">Do I have to send you <em>all</em> this stuff?</h2>

<p>Not at all!  As we get deeper into building and validating the data itself, you’ll find that some fields are required and some are not.  If a field is required but is irrelevant to your business, you can leave it with a null value.</p>

<p>For instance, you may only have a single menu at your venue.  In that case, you would populate a single PosMenu, and your PosMenuItems would roll up to that PosMenu. Similarly, if you haven’t collected your employee email addresses, your PosEmployee’s do not need to have that field filled out.</p>

<p>We have some validation tools we’ll discuss later on to hone in on what is and is not required.</p>

<h2 id="getting-data-from-clarifi">Getting Data From Clarifi</h2>

<aside class="notice"> <strong>Getting Data From Clarifi</strong> </aside>

<p>HotSchedules provides a tool called &ldquo;Bodhi Query&rdquo; which can be used to interact with the Clarifi API. Using the query tool will allow you to get store data such as the &ldquo;sys_id&rdquo;. The query tool also alllows the user to to use RESTful verbs to get, set and update data within Clarifi.</p>

<p>To familiarize yourself with the query tool, start by logging into to your namespace.</p>

<p><strong>Login to your namespace:</strong> <a href="https://tools.hotschedules.io">https://tools.hotschedules.io</a></p>

<p>Once you have authenticated to your namespace, you will be on the tools page where you will select &ldquo;Bodhi Query&rdquo;</p>

<p><img alt="Bodhi Tools Page" src="images/bqt1.png?raw=true" /></p>

<p>The Bodhi Query tool will allow you to use the <strong>GET</strong> verb to access dta relevant to your store. Let&rsquo;s use the Query tool to get the sys_id of a store.</p>

<p>In the primary window, there are 2 select boxes. Box 1 is where you will select the verb type and box 2 provides the service from which to access.</p>

<p>In this example, we are using the <strong>GET</strong> verb and the <strong>API</strong> service to get the store data. In the &ldquo;Type Name&rdquo; field, enter &ldquo;Store&rdquo; and click the send button. A list of store for your namespace will be returned.Within the body of the JSON response, locate the sys_id.</p>

<p><img alt="Bodhi Tools Page" src="images/bqt2.png?raw=true" /></p>

<p><img alt="Bodhi Tools Page" src="images/bqt3.png?raw=true" /></p>

<p>Now that we have the sys_id of a store, we will use &ldquo;Package&rdquo; to query the StoreInfo of a specific store. Selec the <strong>GET</strong> verb as the method and the <strong>Package</strong> as the service type. In the &ldquo;Type Name&rdquo; field enter &ldquo;StoreIno&rdquo;. To narrow to a specific store, we will use the <strong>Where</strong> clause. Enter &ldquo;store_id&rdquo; in the first field and the &ldquo;sys_id&rdquo; in the 2nd field and then select the send button. The results of your call will be displayed in the main body of the query tool.</p>

<p><img alt="Bodhi Tools Page" src="images/bqt4.png?raw=true" /></p>

<p>The Query Tool can be used to get or set data to any of the POSTypes listed below. As noted in this documentation, you can try different calls using the <strong>Where</strong> and <strong>Fields</strong> paramaters to narrow data to more specific details. </p>

<p><img alt="Bodhi Tools Page" src="images/bqt5.png?raw=true" /></p>

<p>Using our RESTful service, a call can be made to <strong>GET</strong> data from the API. Examples of the various calls are listed below with sample JSON Outputs. The file spec is available for download providing the data points and the expected data type for each field.</p>

<p>HTTP Status Codes provide a description of the sucess or failure of a call: <a href="https://httpstatuses.com">https://httpstatuses.com</a></p>

<p><strong>Base Call:</strong> <a href="https://api.hotschedules.io/namespace/resources/PosCheck?paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/PosCheck?paging=limit:25,page:1</a></p>

<p>Using a field in the  <strong>where</strong>  or <strong>fields</strong> clause will narrow the focus to specific data.</p>

<p><strong>Where:</strong> <a href="https://api.hotschedules.io/namespace/resources/PosCheck?where={%22guest_count%22:%20{%20%22$eq%22:%20%221%22%20}}&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/PosCheck?where={&ldquo;guest_count&rdquo;: { &ldquo;$eq&rdquo;: &ldquo;1&rdquo; }}&amp;paging=limit:25,page:1</a></p>

<p><strong>Fields:</strong> <a href="https://api.hotschedules.io/namespace/resources/PosCheck?where={%22guest_count%22:%20{%20%22$eq%22:%20%221%22%20}}&amp;fields=table_id,check_id,shift_id&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/PosCheck?where={&ldquo;guest_count&rdquo;: { &ldquo;$eq&rdquo;: &ldquo;1&rdquo; }}&amp;fields=table_id,check_id,shift_id&amp;paging=limit:25,page:1</a></p>

<p>Below you will find descriptions for each canonical type that we use and the available fields.</p>

<aside class="notice"> <strong>QUERY StoreInfo</strong> </aside> 

<p>PosEmployee, PosJob, PosEmployeePosition, PosRevenueCenter, PosMenu, PosMenuItems and PosMenumodifiers are only types that are queryable via StoreInfo.</p>

<p><strong>Example:</strong> To get a list of employees for a specific store and associated values, this would be the query string used</p>

<p><a href="https://api.hotschedules.io/namespace/resources/StoreInfo?where={%22store_id%22:%20{%20%22$eq%22:%20%22sys_id%22%20}}&amp;fields=store_employees,name&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/StoreInfo?where={&ldquo;store_id&rdquo;: { &ldquo;$eq&rdquo;: &ldquo;sys_id&rdquo; }}&amp;fields=store_employees,name&amp;paging=limit:25,page:1</a></p>

<p><strong>Note:</strong> store_id is the sys_id of the store you are running the call for. To retrieve the list of sys_id&rsquo;s for all stores, use the following call.</p>

<p><a href="https://api.hotschedules.io/namespace/resources/Store?fields=name,sys_id&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/Store?fields=name,sys_id&amp;paging=limit:25,page:1</a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
{
name: "store_test_07",
sys_id: "5a1653d772bd660b0e9270bc"
},
{
name: "store_test_05",
sys_id: "5a1653d79534035f755308cf"
}
]
</code></pre>

<h4 id="posemployee">PosEmployee</h4>

<p><strong>A list of employees pulled from the point of sale.</strong><br></p>

<ul>
<li> <strong>Name</strong> - The first and last name of the employee.<br></li>
<li> <strong>Nickname</strong> - The employee’s nickname or assumed moniker.<br></li>
<li> <strong>Birthdate</strong> - The employee’s date of birth.<br></li>
<li> <strong>Addresses</strong> - The street, city, state, zipcode, and country assigned to an employee.<br></li>
<li> <strong>Emails</strong> - The employee’s email address.<br> </li>
<li> <strong>Status</strong> - Whether or not the employee is terminated.<br></li>
<li> <strong>Employment_period</strong> - The span of time between the employee’s hire date and last day.<br> </li>
<li> <strong>Instore_id</strong> - The point of sale id given to the employee.<br></li>
<li> <strong>Hr_id</strong> - The ID given to the employee by the company.<br> </li>
<li> <strong>Phone_numbers</strong> - The employee’s phone number.</li>
</ul>

<p><a href="/images/PosEmployee.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "store_employees": [
      {
        "name": {
          "family_name": "DO NOT REMOVE",
          "given_name": "ATO TRAINING 5"
        },
        "nickname": "ATO TRAINING 5",
        "birthdate": null,
        "addresses": [
          {
            "street_address": null,
            "extended_address": null,
            "locality": null,
            "region": null,
            "postal_code": null,
            "country": null
          }
        ],
        "status": "Active",
        "employment_period": {
          "from": "2018-04-03T00:00:00.000Z"
        },
        "instore_id": "905",
        "hr_id": "",
        "phone_numbers": [],
        "store_id": "5a1653d772bd660b0e9270bc",
        "content_url": "namespace/5a1653d772bd660b0e9270bc/20180403/StoreInfo",
        "store_reference": {
          "id": "7"
        }
      }
]
</code></pre>

<h4 id="posjob">Posjob</h4>

<p><strong>A list of job codes from the customer’s point of sale system.</strong><br></p>

<p><a href="/images/PosJob.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<ul>
<li> <strong>Instore_name</strong> - The name of the job code.<br></li>
<li> <strong>Instore_id</strong> - The point of sale ID given to the job code.<br></li>
<li> <strong>regular _rate</strong> - The pay rate attached to the job code.<br></li>
<li> <strong>Overtime_rate</strong> - The overtime rate attached to the job.<br></li>
<li> <strong>Doubletime_rate</strong> - The doubletime rate assigned to the job.</li>
</ul>

<p><strong>Example:</strong> To get a list of jobs for a specific store and associated values, this would be the query string used</p>

<p><a href="https://api.hotschedules.io/namespace/resources/StoreInfo?where={%22store_id%22:%20{%20%22$eq%22:%20%22sys_id%22%20}}&amp;fields=store_jobs,name&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/StoreInfo?where={&ldquo;store_id&rdquo;: { &ldquo;$eq&rdquo;: &ldquo;sys_id&rdquo; }}&amp;fields=store_jobs,name&amp;paging=limit:25,page:1</a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "store_jobs": [
      {
        "instore_name": "Server",
        "instore_id": "1",
        "regular_rate": {
          "value": 0,
          "scale": 2,
          "code": "USD"
        },
        "overtime_rate": {
          "value": 0,
          "scale": 2,
          "code": "USD"
        },
        "store_id": "5a1653d772bd660b0e9270bc",
        "content_url": "namespace/5a1653d772bd660b0e9270bc/20180403/StoreInfo",
        "store_reference": {
          "id": "7"
        }
      }
]
</code></pre>

<h4 id="posemployeeposition">PosEmployeePosition</h4>

<p><strong>The job code assigned to the employee in the point of sale.</strong><br></p>

<p><a href="/images/PosEmployeePosition.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<ul>
<li> <strong>Employee_reference</strong> - The employee’s POS ID.<br></li>
<li> <strong>Job_reference</strong> - The job code’s POS ID. <br></li>
<li> <strong>Regular_rate</strong> - The job code rate given to the employee. <br></li>
<li> <strong>Overtime_rate</strong> - The overtime rate given to the employee.<br></li>
<li> <strong>Doubletime_rate</strong> - The doubletime rate give to the employee. <br></li>
<li> <strong>PosSalesCategory</strong> - The sales categories listed in the point of sale. <br></li>
<li> <strong>Instore_id</strong> - The point of sale ID given to the sales category. <br></li>
<li> <strong>Name</strong> - The name of the assigned sales category.</li>
</ul>

<p><strong>Example:</strong> To get a list of positions for a specific store and associated values, this would be the query string used</p>

<p><a href="https://api.hotschedules.io/namespace/resources/StoreInfo?where={%22store_id%22:%20{%20%22$eq%22:%20%22sys_id%22%20}}&amp;fields=employee_positions,name&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/StoreInfo?where={&ldquo;store_id&rdquo;: { &ldquo;$eq&rdquo;: &ldquo;sys_id&rdquo; }}&amp;fields=employee_positions,name&amp;paging=limit:25,page:1</a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "employee_positions": [
      {
        "employee_reference": {
          "id": "905",
          "name": "ATO TRAINING 5 DO NOT REMOVE"
        },
        "job_reference": {
          "id": "12"
        },
        "regular_rate": {
          "value": 0,
          "scale": 2,
          "code": "USD"
        },
        "overtime_rate": {
          "value": 0,
          "scale": 2,
          "code": "USD"
        },
        "doubletime_rate": {
          "value": 0,
          "scale": 2,
          "code": "USD"
        },
        "store_id": "5a1653d772bd660b0e9270bc",
        "content_url": "namespace/5a1653d772bd660b0e9270bc/20180403/StoreInfo",
        "store_reference": {
          "id": "7"
        }
      }
]
</code></pre>

<h4 id="posrevenuecenter">PosRevenueCenter</h4>

<p><strong>The revenue centers listed in the point of sale.</strong><br>
<a href="/images/PosRevenueCenter.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<ul>
<li> <strong>Instore_id</strong> - The point of sale ID given to the revenue center. <br></li>
<li> <strong>Name</strong> - The name of the revenue center. <br></li>
</ul>

<p><strong>Example:</strong> To get a list of revenue centers for a specific store and associated values, this would be the query string used</p>

<p><a href="https://api.hotschedules.io/namespace/resources/StoreInfo?where={%22store_id%22:%20{%20%22$eq%22:%20%22sys_id%22%20}}&amp;fields=revenue_centers,name&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/StoreInfo?where={&ldquo;store_id&rdquo;: { &ldquo;$eq&rdquo;: &ldquo;sys_id&rdquo; }}&amp;fields=revenue_centers,name&amp;paging=limit:25,page:1</a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "revenue_centers": [
      {
        "name": "Dining",
        "instore_id": "1",
        "store_id": "5a1653d772bd660b0e9270bc",
        "content_url": "namespace/5a1653d772bd660b0e9270bc/20180403/StoreInfo",
        "store_reference": {
          "id": "7"
        }
      },
      {
        "name": "Bar Downstairs",
        "instore_id": "2",
        "store_id": "5a1653d772bd660b0e9270bc",
        "content_url": "namespace/5a1653d772bd660b0e9270bc/20180403/StoreInfo",
        "store_reference": {
          "id": "7"
        }
      }
]
</code></pre>

<h4 id="posmenu">PosMenu</h4>

<p><strong>Different menu types. Examples can include things like a brunch or dinner menu.</strong><br>
<strong>Note:</strong> PosMenu is nested within StoreInfo <br></p>

<ul>
<li> <strong>Name</strong> - The name of the menu <br></li>
<li> <strong>Category</strong> - The category assigned to a menu.<br></li>
<li> <strong>Items</strong> - The items that make up a menu. <br></li>
<li> <strong>Modifiers</strong> - The modifiers that can be used by items in the menu. <br></li>
</ul>

<p><a href="/images/PosMenu.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<h4 id="posmenuitems">PosMenuItems</h4>

<p><strong>The items that can be used in all of the different menus.</strong><br>
<strong>Note:</strong> PosMenuItems are nested within StoreInfo <br></p>

<ul>
<li> <strong>Id</strong> - The point of sale ID given to a menu item. <br></li>
<li> <strong>Name</strong> - The name of the item in the point of sale. <br></li>
<li> <strong>Category</strong> - The category that an item is assigned to. <br></li>
<li> <strong>Description</strong> - an extension of the name that can provide further information about the item. <br></li>
<li> <strong>Unit_price</strong> - The default menu price of the item. <br></li>
<li> <strong>Prices</strong> - If that item has a different price associated with it outside of the default. For example a cocktail might have a happy hour price outside of the menu price. <br></li>
</ul>

<p><a href="/images/PosMenuItems.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<h4 id="posmenumodifiers">PosMenumodifiers</h4>

<p><strong>Things like ketchup that can be used in tandem with a menu item.</strong><br>
<strong>Note:</strong> PosMenumodifiers are nested within StoreInfo <br></p>

<ul>
<li> <strong>Id</strong> - The given point of sale ID for the menu modifier.<br></li>
<li> <strong>Name</strong> - The name of the menu modifier. <br></li>
<li> <strong>Description</strong> - A longer version of the name that can provide further insight into the name. <br></li>
<li> <strong>Unit_price</strong> - The default menu price for a particular modifier. <br></li>
<li> <strong>Prices</strong> - Any other prices outside of the menu price that is associated with the modifier. <br></li>
</ul>

<p><a href="/images/PosMenumodifiers.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<p><strong>Example Call to retrieve PosMenu, PosMenuItems and PosMenumodifiers:</strong> <a href="https://api.hotschedules.io/namespace/resources/StoreInfo?where={%22store_id%22:%20{%20%22$eq%22:%20%225a1653d772bd660b0e9270bc%22%20}}&amp;fields=store_menus&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/StoreInfo?where={&ldquo;store_id&rdquo;: { &ldquo;$eq&rdquo;: &ldquo;5a1653d772bd660b0e9270bc&rdquo; }}&amp;fields=store_menus&amp;paging=limit:25,page:1</a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"store_menus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a1653d772bd660b0e9270bc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"content_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"namespace/5a1653d772bd660b0e9270bc/20180403/StoreInfo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"store_reference"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Printers"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400520"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Expo Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Expo Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400521"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fry Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fry Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400522"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grill Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Grill Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400523"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saute Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saute Test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400524"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SVR UP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SVR UP"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400525"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SVR BAR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SVR BAR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"modifiers"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span></code></pre>

<h4 id="pospunch">PosPunch</h4>

<p><strong>The punch records that are present in the point of sale system.</strong><br></p>

<p><a href="/images/PosPunch.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<ul>
<li> <strong>Employee_reference</strong> - the employee’s given point of sale ID. <br></li>
<li> <strong>Job_reference</strong> - The given point of sale ID for the job code that is assigned to the employee. <br></li>
<li> <strong>Business_day</strong> - The business day that the employee has worked. <br></li>
<li> <strong>Started_at</strong> - The time that the employee started working at. <br></li>
<li> <strong>Ended_at</strong> - The time that the employee stopped working at.<br></li>
<li> <strong>Total_minutes_worked</strong> - The total amount of time that the employee worked. <br></li>
<li> <strong>Breaks</strong> - The number of breaks that the employee took. <br></li>
<li> <strong>Regular_rate</strong> - The regular rate that the employee is working at<br></li>
<li> <strong>Overtime_rate</strong> - The overtime rate that the employee is working at<br></li>
<li> <strong>Doubletime_rate</strong> - The doubletime rate that the employee is working at. <br></li>
<li> <strong>Declared_tips</strong> - The declared tips that the employee has. <br></li>
<li> <strong>Cash_tips</strong> - The cash tips that the employee has. <br></li>
<li> <strong>Credit_tips</strong> - The credit tips that the employee has. <br></li>
</ul>

<p><strong>Example:</strong> get punch records <a href="https://api.hotschedules.io/namespace/resources/PosPunch?where={%22store_id%22:%20{%20%22$eq%22:%20%225a1653d772bd660b0e9270bc%22%20}}&amp;fields=employee_reference&amp;paging=limit:25,page:1">https://api.hotschedules.io/namespace/resources/PosPunch?where={&ldquo;store_id&rdquo;: { &ldquo;$eq&rdquo;: &ldquo;5a1653d772bd660b0e9270bc&rdquo; }}&amp;fields=employee_reference&amp;paging=limit:25,page:1</a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"employee_reference"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"395"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"job_reference"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"business_day"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-01-10"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"started_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-01-10T12:32:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ended_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-01-11T04:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_minutes_worked"</span><span class="p">:</span><span class="w"> </span><span class="mi">928</span><span class="p">,</span><span class="w">
    </span><span class="s2">"overtime_minutes_worked"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breaks"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"regular_rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"overtime_rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"tips"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"declared_tips"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"content_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"namespace/5a1653d772bd660b0e9270bc/20180331/StoreBusinessDay"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"store_reference"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a1653d772bd660b0e9270bc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"79e5a5c698d0c09fd66fb927d97b3dae"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-28T13:13:20.165Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_type_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_modified_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-31T17:00:24.001Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_modified_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5abb94f03d0408724e91e8db"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<h4 id="poscheck">PosCheck</h4>

<p><strong>The different transactions at a restaurant.</strong><br></p>

<p><a href="/images/PosCheck.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<ul>
<li> <strong>Check_id</strong> - The point of sale ID given to the transaction. <br></li>
<li> <strong>Voided</strong> - Whether or not the transaction was voided. <br></li>
<li> <strong>Canceled</strong> - Whether or not the check was cancelled. <br></li>
<li> <strong>Employee_reference</strong> - The point of sale ID given to the employee who handled the transaction. <br></li>
<li> <strong>Table_id</strong> - The point of sale ID given to the table. <br></li>
<li> <strong>Register_id</strong> - The point of sale ID given to the register.<br></li>
<li> <strong>Shift_id</strong> - The given point of sale ID for the shift. <br></li>
<li> <strong>Opened_at</strong> - When the transaction was opened. <br></li>
<li> <strong>Closed_at</strong> - When the transaction was closed. <br></li>
<li> <strong>Guest_count</strong> - The total number of guests that were present for the transaction. <br></li>
<li> <strong>Item_count</strong> - The total number of items on the transaction. <br></li>
<li> <strong>Net_total</strong> - The total without taxes or coupons applied to it. <br></li>
<li> <strong>Gross_total</strong> - The total including taxes and coupons. <br></li>
<li> <strong>Discount_total</strong> - The total after any discounts have been applied to it. <br></li>
<li> <strong>Tax_total</strong> - The total with the tax applied to it. <br></li>
<li> <strong>Tender_total</strong> - The total amount of dollars paid. <br></li>
<li> <strong>Change_total</strong> - The total amount of change paid. <br></li>
<li> <strong>Gratuity_total</strong> - Any gratuity that was given to the transaction.<br></li>
<li> <strong>Void_total</strong> - if the check was voided how much was it for. <br></li>
<li> <strong>Items</strong> - The items that are on the transaction. <br></li>
</ul>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"business_day"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-26"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"check_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60025"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"employee_reference"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"922"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"net_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"gross_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">58198</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"discount_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"tender_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">70198</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"shift_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"revenue_center"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"opened_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-26T18:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"closed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-26T19:19:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"canceled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"item_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"content_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"namespace/5a1653d772bd660b0e9270bc/20180326/StoreBusinessDay"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"store_reference"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5a1653d772bd660b0e9270bc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"item_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55032"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sales_category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"gross_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
          </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"net_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
          </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"tax_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
          </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"discount_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"void_total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="s2">"scale"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"discounted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"guest_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"voided"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-26T23:00:30.351Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_created_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_type_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_modified_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-27T12:24:00.269Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_modified_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ab97b8f9534036231f8b72a"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice"> <strong>QUERY PosCheck</strong> </aside>

<p>PosCheckItem are only queryable via PosCheck.</p>

<h4 id="poscheckitem">PosCheckItem</h4>

<p><strong>The items that make up a transaction. Items listed here roll into PosCheck.</strong><br></p>

<p><a href="/images/PosCheckItem.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download File Spec</a></p>

<ul>
<li> <strong>Item_code</strong> - The given POS ID for the item.<br></li>
<li> <strong>Unit_price</strong> - The menu price of the check item. <br></li>
<li> <strong>Quantity</strong> - The amount of the item on the transaction. <br></li>
<li> <strong>Sales_category</strong> - The sales category assigned to the item. <br></li>
<li> <strong>Net_total</strong> - The total dollar amount of the item on the check without taxes or coupons applied to it. <br></li>
<li> <strong>Gross_total</strong> - The total dollar amount of the item on the check with taxes and coupons applied to it. <br></li>
<li> <strong>Tax_total</strong> - The total amount of taxes. <br></li>
<li> <strong>Discount_total</strong> - The total amount of discounts that have been applied to the check. <br></li>
<li> <strong>Void_total</strong> - If the check was voided this is its total. <br></li>
<li> <strong>Voided</strong> - Whether or not the check was voided. <br></li>
<li> <strong>Discounted</strong> - whether or not the check was discounted. <br></li>
<li> <strong>PosVolumeItem</strong> - A dynamic driver that can represent things like guest counts, entree counts, and table counts. <br></li>
<li> <strong>Datetime</strong> - The date that the amount being presented was captured. <br></li>
<li> <strong>Amount</strong> - The total amount being presented by the driver. <br></li>
<li> <strong>Volume_type</strong> - The type of volume that is being displayed. <br></li>
<li> <strong>Revenue_center</strong> - The revenue center that data is being pulled from. <br></li>
<li> <strong>Employee_reference</strong> - The point of sale ID given to the employee whose data you are viewing.</li>
</ul>

<p><strong>Example:</strong> To get a count of a number of items</p>

<p><a href="https://api.hotschedules.io/namespace/resources/PosCheck/aggregate?pipeline=[{$match:{store_id:%22sys_id%22}},{%22$unwind%22:%22$items%22},{$project:{items:1}},{$match:{items.item_code:%2255136%22}},{$group:{_id:%22$items.item_code%22,count:{%22$sum%22:1}}}]">https://api.hotschedules.io/namespace/resources/PosCheck/aggregate?pipeline=[{$match:{store_id:&ldquo;sys_id&rdquo;}},{&ldquo;$unwind&rdquo;:&ldquo;$items&rdquo;},{$project:{items:1}},{$match:{items.item_code:&ldquo;55136&rdquo;}},{$group:{_id:&ldquo;$items.item_code&rdquo;,count:{&ldquo;$sum&rdquo;:1}}}] </a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
{
_id: "55136",
count: 630
}
]
</code></pre>

<p><strong>Example:</strong> How many items sold over a time period</p>

<p><a href="https://api.hotschedules.io/namespace/resources/PosCheck/aggregate?pipeline=[{$match:{store_id:%22sys_id%22}},{%22$unwind%22:%22$items%22},{$project:{items:1,business_day:1}},{$match:{items.item_code:%2255136%22}},{$group:{_id:{items:%22$items.item_code%22,business_day:%22$business_day%22},count:{%22$sum%22:1}}}]">https://api.hotschedules.io/namespace/resources/PosCheck/aggregate?pipeline=[{$match:{store_id:&ldquo;sys_id&rdquo;}},{&ldquo;$unwind&rdquo;:&ldquo;$items&rdquo;},{$project:{items:1,business_day:1}},{$match:{items.item_code:&ldquo;55136&rdquo;}},{$group:{<em>id:{items:&ldquo;$items.item_code&rdquo;,business_day:&ldquo;$business</em>day&rdquo;},count:{&ldquo;$sum&rdquo;:1}}}] </a></p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
{
_id: {
items: "55136",
business_day: "2018-04-01"
},
count: 26
},
{
_id: {
items: "55136",
business_day: "2018-04-02"
},
count: 17
}
]
</code></pre>

<h2 id="sending-canonical-data-over-the-rest-api">Sending Canonical Data Over the REST API</h2>

<p>In order to send data into the Clarifi ecosystem, your application will need to construct StoreInfo and StoreBusinessDay files and pass them over a RESTful endpoint to a particular location within your namespace, at which point those files will be parsed out and made available via the API.</p>

<h2 id="files?-i-just-want-to-get-and-set!">Files?  I Just Want to GET and SET!</h2>

<p>In order to understand how to upload data into the REST API, we have to introduce a new term.  A job is a webservice within your namespace assigned to a particular store that can perform a particular function, either on an event-based schedule or on a user-configured timer.  Jobs can perform many functions within your namespace, such as calling to a variety of endpoints and packaging up the results, populating a UI for an end user to interact with, or flushing data that is no longer needed.</p>

<p>Clarifi applications are powered by jobs that run on the backend and move data throughout the ecosystem.  As mentioned, jobs can either run on a schedule, or based on events.  The Bodhi REST API utilizes SQS, a tool that allows applications to generate messages that other applications can listen for in order to know when to activate.  For more information, check out this link: <a href="https://aws.amazon.com/sqs/">https://aws.amazon.com/sqs/</a>.</p>

<p><img title="ID_token" alt="alt text" src="images/qu5.JPG?raw=true" /></p>

<p>Here’s how our POS integrations work: Our Agent application generates raw data from the machine and sends it up into the namespace in a “raw” bucket.  The act of a new file landing in the raw bucket generates an SNS message.  A “transform” job is listening for that SNS message, and so upon receiving it, it activates, running its service to transform the raw data into Canonical data and make it available via our API server.  Upon completion of the job, the files are now placed in a “processed” bucket, generating a new SNS message.  Other applications listening for that SNS message now know to activate.</p>

<p>That means that you <em>can</em> just GET and SET data over our API, however you’d be doing it here:</p>

<p><img title="ID_token" alt="alt text" src="images/qu6.JPG?raw=true" /></p>

<p>Only applications that run on timers would be able to access this data.  A job that calls to the PosPunch endpoints every 30 minutes for example, would work just fine.  However, a job that is listening for the SNS message (for example, to alert that the availability of a particular menu item has dropped below an acceptable threshold) would have no way of knowing your data is there.</p>

<p>Therefore, you need to introduce your data into the ecosystem earlier in the chain:</p>

<p><img title="ID_token" alt="alt text" src="images/qu7.JPG?raw=true" /></p>

<p>By doing this, you can be assured that Clarifi applications will be empowered to consume your data properly and thus provide value to your customers!</p>

<h2 id="what’s-airwaves?">What’s Airwaves?</h2>

<p>Airwaves is a job that you will need to install on your namespace that will listen for raw StoreInfo and StoreBusinessDay files that you POST into your namespace, parsing the data within, moving it through the API server, and generating an SNS message for downstream applications.</p>

<p>To install Airwaves, you’ll need to go to the Bodhi Shop.  The Bodhi Shop is a place within your namespace where you can install and configure a variety of jobs and applications.  Here’s a link:
https://tools.hotschedules.io/shop/#/all?appType=job
Find Airwaves from the list of available jobs and install.</p>

<aside class="notice"> <strong>How To POST data to Clarifi</strong> </aside>

<p>The File Upload endpoint is special type that allows a user to upload files (StoreInfo and StoreBusinessDay) to be consumed by Clarifi Applications.</p>

<p><strong>File Upload EndPoint URL:</strong> https://files.hotschedules.io/files/raw/store_id/filename</p>

<p><strong>What you&rsquo;ll need:</strong></p>

<ul>
<li>A namespace running the Airwaves job</li>
<li>Your files (StoreInfo and StoreBusinessDay)</li>
<li>Method to pass data to the API (HS Bodhi Query Tool or Postman for example)</li>
</ul>

<p>At a minimum, your file needs to include a full business day of data. For example, if you are posting sales at 10:00am and then again at 11:00am, your 11:00am file needs include all the data you posted at 10:00am as well as the data from 10:00am to 11:00am.</p>

<aside class="notice"> <strong>Let&rsquo;s Get Started</strong> </aside>

<p><strong>Login to your namespace:</strong> <a href="https://tools.hotschedules.io">https://tools.hotschedules.io</a></p>

<p><strong>Install the Airwaves app:</strong> Login to your namespace and use the Bodhi Shop to install the Airwaves App. This app is required to consume the files you will POST later in this example and enable Clarifi to consume the data for the apps within Clarifi.</p>

<p><img alt="Install Airwaves" src="images/airwaves.png?raw=true" /></p>

<p>Once installed, Airwaves will be available in the Job Manager.</p>

<p><img alt="Configuration" src="images/airwavesjob.png?raw=true" /></p>

<p><strong>You&rsquo;re ready to start posting data to Clarifi.</strong></p>

<p>To <strong>POST</strong> data into Clarifi, you will need to create 2 files and upload those to File Upload endpoint. When the files are received, Airwaves listens for those files, consumes them and transforms them into Canonical data for consumption by Clarifi applications.</p>

<p><strong>Note:</strong> You will create a separate zip file for each file as you will POST each file separately when you submit your call to upload data into Clarifi. Attached are the file spec for each file type and further in this example, completed example files are provided for download.</p>

<p><a href="http://docs.hotschedules.io/images/StoreInfo.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download StoreInfo.json File Spec</a></p>

<p><a href="http://docs.hotschedules.io/images/StoreBusinessDay.json" download><img border="0" src="/images/jsonicon.png" alt="Download File Spec" width="32" height="32">Download StoreBusinessDay.json File Spec</a></p>

<p>We have created a Postman collection to enable you to test posting data to the POS Canonical Service. The Collection includes examples for validating the JSON data in your StoreInfo and StoreBusinessDay files and POSTing to the File Upload Endpoint. The examples are titled &ldquo;Validate StoreInfo&rdquo;, &ldquo;Validate StoreBusinessDay&rdquo;, &ldquo;StoreInfo&rdquo; and &ldquo;StoreBusinessDay&rdquo;.</p>

<p>Select the <strong>&ldquo;Run In Postman&rdquo;</strong> button below to open the collection in Postman to start testing.</p>

<div id="btn" style="padding-left: 30px;">
<div class="postman-run-button"
data-postman-action="collection/import"
data-postman-var-1="caea705a1c30e38ea420"></div></div>

<script type="text/javascript">
  (function (p,o,s,t,m,a,n) {
    !p[s] && (p[s] = function () { (p[t] || (p[t] = [])).push(arguments); });
    !o.getElementById(s+t) && o.getElementsByTagName("head")[0].appendChild((
      (n = o.createElement("script")),
      (n.id = s+t), (n.async = 1), (n.src = m), n
    ));
  }(window, document, "_pm", "PostmanRunObject", "https://run.pstmn.io/button.js"));
</script>

<p><br></p>

<p>To <strong>validate</strong> your JSON data to ensure it&rsquo;s well formed before you create your files, you can <strong>POST</strong> the data to the &ldquo;validate&rdquo; endpoint and receive a JSON repsonse upon success or failure.</p>

<p>Validate Endpoint URL: https://api.hotschedules.io/namespace/validate/<strong>StoreInfo</strong> or <strong>StoreBusinessDay</strong></p>

<p>The following is an example of a <strong>Success</strong> message.</p>

<p>{
    &ldquo;valid&rdquo;: true,
    &ldquo;sys_type_version&rdquo;: &ldquo;1&rdquo;
}</p>

<p>The example provided below has been created using Postman. Configure Postman using the following example to <strong>POST</strong> your file to the API.</p>

<p><strong>Configure Header</strong></p>

<p><img alt="Configuration" src="images/postmanheader.png?raw=true" /></p>

<p><strong>Configure Body</strong></p>

<p><img alt="Configuration" src="images/postmanbody.png?raw=true" /></p>

<p>The configuration will enable you to pass in your bearer token and namespace, and do a <strong>PUT</strong> to
<a href="https://files.hotschedules.io/files/raw/store_id/filename">https://files.hotschedules.io/files/raw/store_id/filename</a></p>

<p>You&rsquo;ll be passing in a .zip file that contains your data, and attach the zip as part of the body. Postman will show a success message.</p>

<blockquote>
<p><strong>EXAMPLE JSON RESPONSE:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "namespace": "theposthatrefreshes",
        "name": "StoreInfo6.zip",
        "original_name": "StoreInfo6.zip",
        "location": "theposthatrefreshes/5a997e4a490d05496aae228b/StoreInfo6.zip",
        "media_type": "application/zip",
        "uploaded_at": "2018-04-03T22:11:27.725Z",
        "bucket": "raw",
        "BodhiAsyncStatus": "/theposthatrefreshes/resources/BodhiAsyncStatus/5ac3fc0ff4a7c05f0ead361b"
    }
]
</code></pre>

<p>Your files will be visible in your File Manager.</p>

<p><img alt="Configuration" src="images/filemanager.png?raw=true" /></p>

<p>Once the file arrives in the namespace, the Airwaves job will activate and Airwaves will put the file through the API server, basically unpacking all the data within the file and making it available for other applications to consume.</p>

<p>The following example files (StoreInfoMMDDYR.json and StoreBusinessDayMMDDYR.json) are provided for download.</p>

<p><strong>Best Practice:</strong> Name your json file and your zip file using a simliar naming convention.</p>

<p>i.e. StoreInfo040418.json and StoreInfo040418.zip</p>

<p><a href="http://docs.hotschedules.io/images/StoreInfoMMDDYR.json" download><img border="0" src="/images/jsonicon.png" alt="Download File StoreInfoMMDDYR.json" width="32" height="32">StoreInfoMMDDYR.json</a></p>

<p><a href="http://docs.hotschedules.io/images/StoreBusinessDayMMDDYR.json" download><img border="0" src="/images/jsonicon.png" alt="Download File StoreBusinessDayMMDDYR.json" width="32" height="32">StoreBusinessDayMMDDYR.json</a></p>

<h2 id="working-with-hotschedules-labor-and-schedule-data">Working with HotSchedules Labor and Schedule Data</h2>

<p>So far we have been focusing on interacting with POS data.  However, perhaps you want to interact with labor or schedule data that has been generated within HS Labor.  HS Labor offers a SOAP API that returns a variety of data, and the Bodhi REST API offers a proxy of those endpoints.  This basically means that instead of having to change your calls to use (for example):
https://soap.hotschedules.com/ws/getStoreEmployees (not a real URL)</p>

<p>You can use the REST API’s URL and auth mechanism:</p>

<p><a href="https://api.hotschedules.io/namespace/services/hotschedules/concept_id/store_id/getStoreEmployees">https://api.hotschedules.io/namespace/services/hotschedules/concept_id/store_id/getStoreEmployees</a> (not a real URL)</p>

<p>In order to utilize the HS SOAP proxy, you will need to acquire HS SOAP credentials and put them in a tool called the BodhiUserKeychain.  Luckily, these credentials do not expire, so doing this once will set you up for life.</p>

<p>Follow these simple setup steps before proceeding.</p>

<p><strong>Step 1:</strong> Obtain your API credentials from HotSchedules if you have not already done so.<br>
<strong>Step 2:</strong> Login into the <a href="https://tools.hotschedules.io/account/#/">Account Manager</a><br>
<strong>Step 3:</strong> In the upper right corner, select the wrench icon, then keychain, then your namespace.<br>
<strong>Step 4:</strong> Enter your API credentials as provided by hotSchedules and click save.<br>
<strong>Step 5:</strong> Continue with the example below to retrieve your token.</p>

<h4 id="making-a-call">Making a call</h4>

<p><strong>Please Note:</strong> Through our standard service offering, HotSchedules will support up to 100 calls per hour, per store with bursts not to exceed 20 calls per minute per store. At this service level, the API will have a rate limit and status code 429 will return for calls beyond those limits.</p>

<p><br>
The HotSchedules REST API supports all the standard REST verbs.</p>

<p><strong>GET</strong><br>
<strong>POST</strong><br>
<strong>PUT</strong><br>
<strong>PATCH</strong><br>
<strong>DELETE</strong>  </p>

<p>You can access these verbs for each of the types in the HotSchedules system. When an organization is created in the HotSchedules Platform, the organization automatically gets 32 &lsquo;types&rsquo; that will store standard information and data about your organization. Those &#39;types&rsquo; can be viewed and reviewed at <a href="https://api.hotschedules.io/apidocs/index.html">https://api.hotschedules.io/apidocs/index.html</a></p>

<h4 id="get">GET</h4>

<p>As an example, let&rsquo;s do a <strong>GET</strong> on a store via CURL
<code class="prettyprint">curl -ik --cookie &quot;RUSK=8a6f98bb1033055fc04d644c0006789335f96c2b-username=platform&quot; -X GET https://api.hotschedules.io/bodhi-social/resources/Store</code></p>

<p>This call will return the information about a store that&rsquo;s been created for the bodhi-social organization</p>

<p><code class="prettyprint">[{&quot;sys_version&quot;:1,&quot;image_url&quot;:&quot;https://upload.wikimedia.org/wikipedia/commons/5/54/Golden_Gate_Bridge_0002.jpg&quot;,&quot;sys_type_version&quot;:12,&quot;address&quot;:{&quot;street_address&quot;:&quot;555 Mission&quot;,&quot;extended_address&quot;:&quot;&quot;,&quot;locality&quot;:&quot;San Francisco&quot;,&quot;region&quot;:&quot;CA&quot;,&quot;postal_code&quot;:&quot;94111&quot;,&quot;country&quot;:&quot;US&quot;},&quot;store_hours&quot;:[{&quot;days&quot;:[7,1],&quot;start&quot;:&quot;0500&quot;,&quot;end&quot;:&quot;0000&quot;},{&quot;days&quot;:[1,2],&quot;start&quot;:&quot;1200&quot;,&quot;end&quot;:&quot;0200&quot;},{&quot;days&quot;:[2,3],&quot;start&quot;:&quot;1200&quot;,&quot;end&quot;:&quot;0200&quot;},{&quot;days&quot;:[3,4],&quot;start&quot;:&quot;1200&quot;,&quot;end&quot;:&quot;0200&quot;},{&quot;days&quot;:[4,5],&quot;start&quot;:&quot;1200&quot;,&quot;end&quot;:&quot;0200&quot;},{&quot;days&quot;:[5,6],&quot;start&quot;:&quot;1200&quot;,&quot;end&quot;:&quot;0200&quot;},{&quot;days&quot;:[6,7],&quot;start&quot;:&quot;0500&quot;,&quot;end&quot;:&quot;0000&quot;}],&quot;sys_created_by&quot;:&quot;admin__bodhi-social&quot;,&quot;sys_created_at&quot;:&quot;2016-05-21T15:37:15.560Z&quot;,&quot;name&quot;:&quot;platformstore&quot;,&quot;store_number&quot;:&quot;1&quot;,&quot;display_name&quot;:&quot;Platform Store&quot;,&quot;sys_id&quot;:&quot;574080abb9a19e2dadee775b&quot;}]</code></p>

<p>You can also get the JSON payload by navigating directly to this URL <code class="prettyprint">https://api.hotschedules.io/bodhi-social/resources/Store</code>  </p>

<p>You can create your own store for your organization either by executing a <strong>POST</strong> command (see below) to <code class="prettyprint">https://api.hotschedules.io/&lt;organization_name&gt;/resources/Store</code> or using our store manager tool at <code class="prettyprint">https://hotschedules.io/store-manager</code> . Either way, a store is a critical anchor for information in the Platform.</p>

<p>Next let&rsquo;s look up a sale for our store in bodhi-social</p>

<p><code class="prettyprint">curl -ik --cookie &quot;RUSK=8a6f98bb1033055fc04d644c0006789335f96c2b-username=platform&quot; -X GET https://api.hotschedules.io/bodhi-social/resources/SalesTransaction</code></p>

<p>RESULT:</p>

<p><code class="prettyprint">[{&quot;order_number&quot;:10184,&quot;item_count&quot;:1,&quot;store_id&quot;:&quot;574080abb9a19e2dadee775b&quot;,&quot;employee&quot;:{&quot;id&quot;:&quot;5151&quot;,&quot;name&quot;:&quot;Ted Morrison&quot;},&quot;business_day&quot;:&quot;2016-05-20&quot;,&quot;revenue_center&quot;:{&quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;Restaraunt&quot;},&quot;type&quot;:{&quot;id&quot;:&quot;4&quot;,&quot;name&quot;:&quot;1&quot;},&quot;timestamp&quot;:&quot;2016-05-21T03:34:00.000Z&quot;,&quot;transaction_id&quot;:&quot;557605fc4c32e071180a46042016-05-2010184&quot;,&quot;net_total&quot;:{&quot;value&quot;:325,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;discount_total&quot;:{&quot;value&quot;:0,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;tax_total&quot;:{&quot;value&quot;:23,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;gross_total&quot;:{&quot;value&quot;:348,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;tender_total&quot;:{&quot;value&quot;:348,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;order_opened_at&quot;:&quot;2016-05-21T03:33:00.000Z&quot;,&quot;order_closed_at&quot;:&quot;2016-05-21T03:34:00.000Z&quot;,&quot;guest_count&quot;:1,&quot;sys_version&quot;:1,&quot;sys_created_at&quot;:&quot;2016-05-21T16:02:30.800Z&quot;,&quot;sys_created_by&quot;:&quot;admin__bodhi-social&quot;,&quot;sys_type_version&quot;:12,&quot;sys_id&quot;:&quot;574086965eacd06aa3db036b&quot;}]</code></p>

<p>We can also look up our Store using query parameters in our URL</p>

<p><code class="prettyprint">curl --cookie &quot;RUSK=8a6f98bb1033055fc04d644c0006789335f96c2b-username=platform&quot; &#39;https://api.hotschedules.io.io/bodhi-social/resources/SalesTransaction?where=%7Bbusiness_day:&quot;2016-05-20&quot;%7D&amp;fields=business_day&#39;</code></p>

<p>OR alternatively:</p>

<p><code class="prettyprint">curl -g --cookie &quot;RUSK=8a6f98bb1033055fc04d644c0006789335f96c2b-username=platform&quot; &#39;https://api.hotschedules.io/bodhi-social/resources/SalesTransaction?where={business_day:&quot;2016-05-20&quot;}&amp;fields=business_day&#39;</code></p>

<p>RESULT:<br>
<code class="prettyprint">[{&quot;order_number&quot;:10184,&quot;item_count&quot;:1,&quot;store_id&quot;:&quot;574080abb9a19e2dadee775b&quot;,&quot;employee&quot;:{&quot;id&quot;:&quot;5151&quot;,&quot;name&quot;:&quot;Ted Morrison&quot;},&quot;business_day&quot;:&quot;2016-05-20&quot;,&quot;revenue_center&quot;:{&quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;Restaraunt&quot;},&quot;type&quot;:{&quot;id&quot;:&quot;4&quot;,&quot;name&quot;:&quot;1&quot;},&quot;timestamp&quot;:&quot;2016-05-21T03:34:00.000Z&quot;,&quot;transaction_id&quot;:&quot;557605fc4c32e071180a46042016-05-2010184&quot;,&quot;net_total&quot;:{&quot;value&quot;:325,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;discount_total&quot;:{&quot;value&quot;:0,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;tax_total&quot;:{&quot;value&quot;:23,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;gross_total&quot;:{&quot;value&quot;:348,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;tender_total&quot;:{&quot;value&quot;:348,&quot;code&quot;:&quot;USD&quot;,&quot;scale&quot;:2},&quot;order_opened_at&quot;:&quot;2016-05-21T03:33:00.000Z&quot;,&quot;order_closed_at&quot;:&quot;2016-05-21T03:34:00.000Z&quot;,&quot;guest_count&quot;:1,&quot;sys_version&quot;:1,&quot;sys_created_at&quot;:&quot;2016-05-21T16:02:30.800Z&quot;,&quot;sys_created_by&quot;:&quot;admin__bodhi-social&quot;,&quot;sys_type_version&quot;:12,&quot;sys_id&quot;:&quot;574086965eacd06aa3db036b&quot;}]</code></p>

<p>So <code class="prettyprint">https://api.hotschedules.io/bodhi-social/resources/SalesTransaction?where={%27business_day%27:%272016-05-20%27}</code> would return all SalesTransaction&rsquo;s for the business day of 2016-05-20.
The URL <code class="prettyprint">https://api.hotschedules.io/bodhi-social/resources/SalesTransaction?where={%27store_id%27:%27574080abb9a19e2dadee775b%27}</code> would return all SalesTransaction&rsquo;s for the store 574080abb9a19e2dadee775b (our Platform test store).</p>

<p>All Types can be queried by any parameter within the type using a ?where={} clause. It&rsquo;s <strong>EXTREMELY</strong> important for efficiency and performance to query using indexes on your types. You can review the Types for your organization as well as the Indexes and Parameters by using our free Type Tool located at <code class="prettyprint">https://tools.hotschedules.io/types</code> or by inspecting <code class="prettyprint">https://api.hotschedules.io/&lt;organization_name&gt;/resources/BodhiType</code></p>

<h4 id="post">POST</h4>

<p>To <strong>POST</strong> to a type you need to add the the header: &#39;Content-Type: application/json&rsquo; to your cURL Command</p>

<p><code class="prettyprint">curl -ik -H &#39;Content-Type: application/json&#39; --cookie &quot;RUSK=8a6f98bb1033055fc04d644c0006789335f96c2b-username=foo&quot; -X POST -d &#39;{
  &quot;store_id&quot;: &quot;l8zeL&quot;,
  &quot;business_day&quot;: &quot;2016-05-13&quot;,
  &quot;timestamp&quot;: &quot;2016-05-12T05:58:31.296Z&quot;,
  &quot;transaction_id&quot;: &quot;FGHG012&quot;,
     &quot;tender_total&quot;: {
      &quot;code&quot;: &quot;USD&quot;,
      &quot;scale&quot;: 2,
      &quot;value&quot;: 620
    }
}&#39; https://api.hotschedules.io/&lt;organization_name&gt;/resources/SalesTransaction</code></p>

<p>That command will post the json object to the SalesTransaction type. You can now GET on this type either using cURL or the free query tools available at https://tools.hotschedules.io/query</p>

<h4 id="bulk-post">Bulk Post</h4>

<p>All bulk operations are accessible through https://api.hotschedules.io<br>
The size limitation for the body is 17MB  </p>

<h3 id="syntax:">Syntax:</h3>

<p><strong>POST</strong> <code class="prettyprint">/&lt;organization_name&gt;/bulk</code> with json body<br>
<code class="prettyprint">{
  &quot;config&quot;: {
    &quot;op&quot;: &quot;insert&quot; or &quot;update&quot; or &quot;upsert&quot; or &quot;invite&quot;,  * see below
     &quot;report&quot;: true,        &lt;- optional, need a report? (default false) 
     &quot;target&quot;: &quot;target_name”    &lt;- the name of the type (not for invite)
  },
  &quot;payload&quot;: [{
    &quot;the_field&quot;: &quot;my first thing to insert or upsert or invite&quot;,
    &quot;other_field&quot;: &quot;the_other_field&quot;
  }, {
    &quot;the_field&quot;: &quot;my second thing to insert or upsert&quot;,
    &quot;other_field&quot;: &quot;the_other_field2&quot;
  }]
}</code>  </p>

<p>The payload varies depending on the type of operation and Returns 202 with header <code class="prettyprint">bulk_id:&lt;the bulk id&gt;</code></p>

<p>The result of a report, if requested, is accessible as soon as the processing is done on:</p>

<p><strong>GET</strong> <code class="prettyprint">/&lt;organization_name&gt;/bulk/&lt;bulk_id&gt;</code></p>

<p><strong>RESPONSE:</strong><br>
returns <strong>200</strong> with a json array body where the order of the cells matches the order of the payload. The report can be accessed only once.<br>
returns <strong>204</strong> if the report is not ready yet<br>
returns <strong>404</strong> if no report was found with that id  </p>

<ul>
<li>update/upsert is only available for types not encapsulated </li>
<li>insert on system types only BodhiUser, BodhiType and BodhiEnumeration and any not encapsulated type</li>
</ul>

<h3 id="example:">Example:</h3>

<p><code class="prettyprint">{
  &quot;config&quot;: {
    &quot;op&quot;: &quot;insert&quot;,
    &quot;report&quot;: true,
    &quot;target&quot;:  &quot;BulkTest&quot;
  },
  &quot;payload&quot;: [{
    &quot;name&quot;: &quot;leo&quot;,
    &quot;other_field&quot;: &quot;mauris non&quot;
  }, {
    &quot;name&quot;: &quot;orci&quot;,
    &quot;other_field&quot;: &quot;sit amet justo&quot;
  }, {
    &quot;name&quot;: &quot;nulla&quot;,
    &quot;other_field&quot;: &quot;pulvinar sed nisl nunc rhoncus&quot;
  }, {
    &quot;name&quot;: &quot;nulla&quot;,
    &quot;other_field&quot;: &quot;diam cras&quot;
  }, {
    &quot;name&quot;: &quot;est&quot;,
    &quot;other_field&quot;: &quot;dui nec nisi volutpat&quot;
  }, {
    &quot;name&quot;: &quot;lorem&quot;,
    &quot;other_field&quot;: &quot;cursus id&quot;
  }, {
    &quot;name&quot;: &quot;molestie&quot;,
    &quot;other_field&quot;: &quot;potenti nullam porttitor lacus at&quot;
  }, {
    &quot;name&quot;: &quot;sapien&quot;,
    &quot;other_field&quot;: &quot;ultrices aliquet maecenas leo&quot;
  }, {
    &quot;name&quot;: &quot;nibh&quot;,
    &quot;other_field&quot;: &quot;consectetuer eget rutrum at&quot;
  }, {
    &quot;name&quot;: &quot;luctus&quot;,
    &quot;other_field&quot;: &quot;nisl nunc&quot;
  }]
}</code></p>

<h4 id="put">PUT</h4>

<p>The HTTP verb PUT can be used on any type as long as there&rsquo;s a unique index on the field or fields. You can always PUT on sys_id</p>

<p>As an example, in the above SalesTransaction example, the sys_id is 574086965eacd06aa3db036b, a PUT to the SalesTransaction based on sys_id would be as follows:</p>

<p><code class="prettyprint">
curl -ik -H &#39;Content-Type: application/json&#39; --cookie &quot;RUSK=8a6f98bb1033055fc04d644c0006789335f96c2b-username=foo&quot; -X PUT -d &#39;{ &quot;store_id&quot;: &quot;l8zeL&quot;, &quot;business_day&quot;: &quot;2016-05-13&quot;, &quot;timestamp&quot;: &quot;2016-05-12T05:58:31.296Z&quot;, &quot;transaction_id&quot;: &quot;FGHG012&quot;, &quot;tender_total&quot;: { &quot;code&quot;: &quot;USD&quot;, &quot;scale&quot;: 2, &quot;value&quot;: 620 } }&#39; https://api.hotschedules.io/tutorial/resources/SalesTransaction/574086965eacd06aa3db036b
</code> </p>

<h4 id="put-upsert">PUT Upsert</h4>

<p>Upsert is a safe way to replace an existing record, or POST a record if the entry does not currently exist.</p>

<p>You can upsert by appending your URL with ?upsert=true</p>

<p>As an example, the above PUT example can be changed to a replace by appending the ?upsert=true to the cURL command:</p>

<p><code class="prettyprint">
curl -ik -H &#39;Content-Type: application/json&#39; --cookie &quot;RUSK=8a6f98bb1033055fc04d644c0006789335f96c2b-username=foo&quot; -X PUT -d &#39;{ &quot;store_id&quot;: &quot;l8zeL&quot;, &quot;business_day&quot;: &quot;2016-05-13&quot;, &quot;timestamp&quot;: &quot;2016-05-12T05:58:31.296Z&quot;, &quot;transaction_id&quot;: &quot;FGHG012&quot;, &quot;tender_total&quot;: { &quot;code&quot;: &quot;USD&quot;, &quot;scale&quot;: 2, &quot;value&quot;: 620 } }&#39; https://api.hotschedules.io/tutorial/resources/SalesTransaction/574086965eacd06aa3db036b?upsert=true
</code></p>

<h4 id="patch">PATCH</h4>

<p>the HTTP verb PATCH will allow you to alter single parameters or fields within a record in your type. Patch commands follow the following sytax:
[ { &ldquo;op&rdquo;: &ldquo;replace&rdquo;, &ldquo;path&rdquo;: &ldquo;/baz&rdquo;, &ldquo;value&rdquo;: &ldquo;boo&rdquo; }, { &ldquo;op&rdquo;: &ldquo;add&rdquo;, &ldquo;path&rdquo;: &ldquo;/hello&rdquo;, &ldquo;value&rdquo;: [&ldquo;world&rdquo;] }, { &ldquo;op&rdquo;: &ldquo;remove&rdquo;, &ldquo;path&rdquo;: &ldquo;/foo&rdquo;} ]</p>

<p>The HTTP verb PATCH can be used on any type as long as there&rsquo;s a unique index on the field or fields. You can always PATCH on sys_id</p>

<h4 id="delete">DELETE</h4>

<p>the HTTP verb DELETE will allow you to remove a record in your type. To delete multiple records, include a ?where={} in your URL to narrow or expand then number of records removed.</p>

<h4 id="file-upload">File Upload</h4>

<p>The Platform BodhiFileUpload endpoints are special types that allow a user to upload and download any file (like a dbf file from your store&rsquo;s POS).</p>

<p>Metadata of your file is posted to type BodhiFileUpload on successful upload  </p>

<p><strong>BodhiFileUpload example record:</strong><br>
<code class="prettyprint">{ &quot;namespace&quot;: &quot;bodhi&quot;, &quot;original_name&quot;: &quot;profile_pic5.jpg&quot;, &quot;sys_version&quot;: 1, &quot;location&quot;: &quot;bodhi/profile_pic5.jpg&quot;, &quot;uploaded_at&quot;: &quot;2015-09-10T19:42:48+0000&quot;, &quot;sys_created_by&quot;: &quot;admin__bodhi&quot;, &quot;sys_created_at&quot;: &quot;2015-09-10T19:42:49+0000&quot;, &quot;name&quot;: &quot;profile_pic5.jpg&quot;, &quot;media_type&quot;: &quot;image/jpeg&quot;, &quot;sys_id&quot;: &quot;55f1dd39b9b5904f64c8212f&quot; }</code></p>

<p><strong>Examples:</strong><br>
The following are curl examples of how to specify file location in your upload/download/delete commands.  Everything after “upload/” or “download/” in the url is used as the destination.  Note that filename is always specified in the url.  </p>

<p><code class="prettyprint">curl -X POST -u &lt;username&gt;:&lt;password&gt; https://api.hotschedules.io/&lt;organization_name&gt;/controllers/vertx/upload/recipes/food/BurritoRecipe.txt -F &quot;upload1=@THE_FILE&quot;</code>  </p>

<p><code class="prettyprint">curl -X PUT -u &lt;username&gt;:&lt;password&gt; https://api.hotschedules.io/&lt;organization_name&gt;/controllers/vertx/upload/recipes/food/BurritoRecipe.txt -F &quot;upload1=@THE_FILE&quot;</code></p>

<p><strong>Download by path:</strong><br>
<code class="prettyprint">curl -X GET -u &lt;username&gt;:&lt;password&gt; https://api.hotschedules.io/&lt;organization_name&gt;/controllers/vertx/download/recipes/food/BurritoRecipe.txt</code></p>

<p><strong>Download by sys_id:</strong><br>
<code class="prettyprint">curl -X GET -u &lt;username&gt;:&lt;password&gt; https://api.hotschedules.io/&lt;organization_name&gt;/controllers/vertx/download/56f9c2b4fa92ec27934a76ae</code>  </p>

<p><strong>Delete a file:</strong><br>
<code class="prettyprint">curl -X DELETE -u &lt;username&gt;:&lt;password&gt; https://api.hotschedules.io/&lt;organization_name&gt;/controllers/vertx/upload/recipes/food/BurritoRecipe.txt</code></p>

<p>We have created a Postman collection to enable you with making calls to the REST API.</p>

<div id="btn" style="padding-left: 30px;">
<div class="postman-run-button"
data-postman-action="collection/import"
data-postman-var-1="caea705a1c30e38ea420"></div></div>

<script type="text/javascript">
  (function (p,o,s,t,m,a,n) {
    !p[s] && (p[s] = function () { (p[t] || (p[t] = [])).push(arguments); });
    !o.getElementById(s+t) && o.getElementsByTagName("head")[0].appendChild((
      (n = o.createElement("script")),
      (n.id = s+t), (n.async = 1), (n.src = m), n
    ));
  }(window, document, "_pm", "PostmanRunObject", "https://run.pstmn.io/button.js"));
</script>

          <h1 id="rest-api-service">REST API Service</h1>

<h2 id="introduction">Introduction</h2>

<p>The HotSchedules REST API provides a user-friendly way to obtain HS Data.  </p>

<p>Please ensure that API access has been enabled for your HotSchedules account. Contact customer service 1-866-753-3853 for access or questions.</p>

<p>The url path can look like any of the following, depending on which type is being queried:</p>

<p>HTTP Status Codes provide a description of the sucess or failure of a call: <a href="https://httpstatuses.com">https://httpstatuses.com</a></p>

<p><br>
<code class="prettyprint">../hotschedules/&lt;concept_id&gt;/&lt;store_id&gt;/&lt;type_method&gt;?</code>
<br>
<code class="prettyprint">../hotschedules/&lt;concept_id&gt;/&lt;type_method&gt;?</code>
<br>
<code class="prettyprint">../hotschedules/&lt;type_method&gt;?</code></p>

<h2 id="available-methods">Available Methods</h2>

<aside class="notice"> <strong>FETCHING DATA METHODS</strong> </aside>

<p><strong>Note:</strong> Results are currently cached with a TTL of 60 minutes.</p>

<p>What is TTL? <em>Time to live or hop limit is a mechanism that limits the lifespan or lifetime of data in a computer or network</em></p>

<h4 id="getconcepts">getConcepts</h4>

<p>This method returns a list of concepts for a company.</p>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/getConcepts&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "extId": 3714,
        "name": "HotSchedules"
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>extId</td>
<td>Number</td>
<td>Concept external ID</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Concept Name</td>
</tr>
</tbody></table>

<h4 id="getclientcertifications">getClientCertifications</h4>

<p>This method takes in a <strong>concept ID</strong> and a <strong>store ID</strong> and returns client certification objects. It is meant to get a list of all certifications for that store.</p>

<p>The inputs of this method are the arguments defined by the following table.</p>

<table>
<thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Concept</td>
<td>Int</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company. Contact HotSchedules if you&rsquo;re not sure about this value.
</td>
</tr>
<tr>
<td>storeNum</td>
<td>Int</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
</tbody>
</table>

<h4 id="getemployeecertifications">getEmployeeCertifications</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong> and <strong>employee POS ID</strong> and returns an array of employee certificate objects. It is meant to get a list of all employee certification information for an employee for that store.</p>

<p>The inputs of this method are the arguments defined by the following table.</p>

<table>
<thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Concept</td>
<td>Int</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company. Contact HotSchedules if you&rsquo;re not sure about this value.
</td>
</tr>
<tr>
<td>storeNum</td>
<td>Int</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>empPOSId</td>
<td>Int</td>
<td>POS numeric employee ID.</td>
</tr>
</tbody>
</table>

<h4 id="getlocations">getLocations</h4>

<p>This method takes in a <strong>concept ID</strong> and <strong>store ID</strong>. It returns an array of dataLocation objects, each of which represent one HotSchedules schedule location.</p>

<p>The inputs of this method are the arguments defined by the following table.</p>

<table>
<thead>
<tr>
<th>Query parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td nowrap>concept</td><td>int</td><td>The identifier for the location&rsquo;s concept/group. Must be unique within the company. Contact HotSchedules if you&rsquo;re not sure about this value.</td></tr>
<td nowrap>storeNum</td><td>int</td><td>Numeric (integer) identifier for the location. Must be unique within the concept.</td></tr>
</tbody>
</table>

<p>The outputs of this method are the arguments defined by the following table.</p>

<table>
<thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td nowrap>return</td><td>dataLocationArray</td><td>Array of dataLocation objects.</td></tr>
</tbody>
</table>

<h4 id="getdriversbyinterval">getDriversByInterval</h4>

<p>This method will take a <strong>concept ID</strong>, <strong>store number</strong>, <strong>start and end dates</strong>, <strong>volume type</strong>, and <strong>data type</strong> and return a list of total driver amount for each interval in the date range requested for that concept, store and labor type.</p>

<p>Intervals are configured during initial setup for the customer and are typically 30 minutes or 15 minutes.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept</td>
</tr>
<tr>
<td>startDate</td>
<td>hsSimpleDate</td>
<td>Start date for the range of data requested</td>
</tr>
<tr>
<td>endDate</td>
<td>hsSimpleDate</td>
<td>End date for the range of data requested</td>
</tr>
<tr>
<td>volumeType</td>
<td>driverClass</td>
<td>Classification of driver requested. Allowed types would be all of the classifications supported from API, HSC, or FTP integration.  “Guests”, “Tables”, “Entrees”, “Deliveries”, &ldquo;Transactions&rdquo; and “Products”</td>
</tr>
<tr>
<td>dataType</td>
<td>driverType</td>
<td>Type of driver requested.  Allowed types are “ACTUAL”, “ADJ_FORECASTED”, and “PRE_ADJ_FORECASTED”</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getDriversByInterval?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&amp;volume_type=TABLE&amp;data_type=ACTUAL&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "companyExtRef": 264319,
        "conceptExtRef": 3714,
        "driverAmount": 0,
        "driverClass": "TABLE",
        "driverType": "ACTUAL",
        "intervalEndDate": {
            "day": 1,
            "month": 10,
            "year": 2017
        },
        "intervalEndTime": {
            "hours": 0,
            "militaryTime": true,
            "minutes": 30,
            "seconds": 0
        },
        "intervalStartDate": {
            "day": 1,
            "month": 10,
            "year": 2017
        },
        "intervalStartTime": {
            "hours": 0,
            "militaryTime": true,
            "minutes": 0,
            "seconds": 0
        },
        "storeExtRef": 98
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>driverAmount</td>
<td>Number</td>
<td>Quantity of driver for interval expressed in the record</td>
</tr>
<tr>
<td>driverClass</td>
<td>String</td>
<td>Description of driver type supplied for the interval expressed in the record</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td>Object</td>
<td>The hour, minutes, and seconds corresponding to the start of the interval expressed in the record.  Interval times are local to the store’s time zone</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td>Object</td>
<td>The hour, minutes, and seconds corresponding to the end of the interval expressed in the record.  Interval times are local to the store’s time zone</td>
</tr>
<tr>
<td>intervalStartDate</td>
<td>Object</td>
<td>The date corresponding to the start of the interval expressed in the record</td>
</tr>
<tr>
<td>intervalEndDate</td>
<td>Object</td>
<td>The date corresponding to the end of the interval expressed in the record</td>
</tr>
<tr>
<td>conceptExtRef</td>
<td>Number</td>
<td>The concept ID configured by HotSchedules for the concept of the store owning the data of the record., contact HotSchedules if Concept IDs need to be defined or configured</td>
</tr>
<tr>
<td>storeExtRef</td>
<td>Number</td>
<td>The store ID configured within HotSchedules for the store owning the data of the record., contact HotSchedules if Store IDs need to be defined or configured</td>
</tr>
<tr>
<td>companyExtRef</td>
<td>Number</td>
<td>The company ID defined by HotSchedules for the store owning the data of the record., contact HotSchedules if the Company ID needs to be defined.  This ID cannot be customized or configured</td>
</tr>
<tr>
<td>driverType</td>
<td>String</td>
<td>Type of driver requested. Allowed types are: “ACTUAL” - Corresponds to the actual values produced by the store. “ADJ_FORECASTED”- Corresponds to the final forecasted driver amount that the schedules were based off from for the driver. “PRE_ADJ_FORECASTED”- Corresponds to the original forecasted driver amount previous to any forecast adjustments</td>
</tr>
</tbody></table>

<h4 id="getempavailability">getEmpAvailability</h4>

<p>This method takes in a <strong>concept ID</strong> and a <strong>store ID</strong> and returns an <strong>array of wsEmpAvailability objects</strong>. It is meant to get a list of all employee availability for that store.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept</td>
</tr>
<tr>
<td>active_only</td>
<td>Boolean</td>
<td>Boolean that defines whether or not to include terminated employees in response</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getEmpAvailability?active_only=true&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "availabilities": [
            {
                "dayName": "Sunday",
                "dayNum": 1,
                "parHoursMax": -1,
                "parHoursMin": -1,
                "parShiftsMax": -1,
                "parShiftsMin": -1,
                "partialBeforeAfter": null,
                "partialTime": null,
                "shiftId": 1582006201,
                "shiftName": "AM",
                "statusName": "Not Available",
                "statusNum": 3
            },
            {
                "dayName": "Sunday",
                "dayNum": 1,
                "parHoursMax": -1,
                "parHoursMin": -1,
                "parShiftsMax": -1,
                "parShiftsMin": -1,
                "partialBeforeAfter": null,
                "partialTime": null,
                "shiftId": 1582006202,
                "shiftName": "PM",
                "statusName": "Not Available",
                "statusNum": 3
            }
        ],
        "empHrId": -1,
        "empNum": 9801
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>empNum</td>
<td>Number</td>
<td>Employee POS ID</td>
</tr>
<tr>
<td>availabilities</td>
<td>Array</td>
<td>Returns an array of availability for an employee</td>
</tr>
<tr>
<td>empHrId</td>
<td>Number</td>
<td>Employee HR ID</td>
</tr>
</tbody></table>

<h4 id="getempinfo">getEmpInfo</h4>

<p>This method takes in a <strong>concept ID</strong> and a <strong>store ID</strong> and returns an <strong>array of wsEmpInfo</strong> objects. It is meant to get a list of all employees for that store.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>active_only</td>
<td>Boolean</td>
<td>Boolean that defines whether or not to include terminated employees in response.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getEmpInfo?active_only=true&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "accountCreated": "2017-05-04T10:18:46.957-05:00",
        "empHrId": -1,
        "empNum": -1,
        "lastUpdated": "2017-05-04T10:18:47.040-05:00",
        "permissionSetName": "Default HotSchedules Employee"
    },
    {
        "accountCreated": "2017-07-07T10:05:48.820-05:00",
        "assignedSchedules": {
            "extId": -1,
            "hsId": 1050941698,
            "name": "FOH"
        },
        "empHrId": -1,
        "empNum": 9898,
        "lastUpdated": "2017-10-13T13:59:36.523-05:00",
        "permissionSetName": "Employee"
    },
    {
        "accountCreated": "2017-05-04T10:18:46.817-05:00",
        "empHrId": -1,
        "empNum": -1,
        "lastUpdated": "2017-07-07T10:00:20.487-05:00",
        "permissionSetName": "Default HS Support User"
    },
    {
        "accountCreated": "2017-10-13T12:48:57.903-05:00",
        "assignedSchedules": {
            "extId": -1,
            "hsId": 1050941698,
            "name": "FOH"
        },
        "empHrId": -1,
        "empNum": 9801,
        "lastUpdated": "2017-10-13T12:50:58.597-05:00",
        "permissionSetName": "Employee"
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>lastUpdated</td>
<td>String</td>
<td>Last time the employee record was updated</td>
</tr>
<tr>
<td>accountCreated</td>
<td>String</td>
<td>Date/time the account was created</td>
</tr>
<tr>
<td>permissionSetName</td>
<td>String</td>
<td>Permission set name assigned to the employee</td>
</tr>
<tr>
<td>empNum</td>
<td>Number</td>
<td>Employee POS ID</td>
</tr>
<tr>
<td>assignedSchedules</td>
<td>Array</td>
<td>The schedule in which the employee is assigned. Array contains extId, hsId and name</td>
</tr>
<tr>
<td>empHrId</td>
<td>Number</td>
<td>Employees HR ID</td>
</tr>
</tbody></table>

<h4 id="getempjobs">getEmpJobs</h4>

<p>This method takes in a <strong>concept ID</strong> and a <strong>store ID</strong> and returns an <strong>array of wsEmpJob</strong> objects. It is meant to get a list of all jobs assigned to all employees for that store.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getEmpJobs?active_only=true&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "clientId": 25124840,
        "hsEmpId": 587378309,
        "hsJobId": 27134060,
        "ovtWage": 22.5,
        "posEmpId": 9898,
        "posJobId": 1099,
        "primary": true,
        "regWage": 15,
        "storeNum": 98
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hsJobId</td>
<td>Number</td>
<td>HotSchedules internal job code ID</td>
</tr>
<tr>
<td>clientId</td>
<td>Number</td>
<td>Unique identifier for client provided via HotSchedules</td>
</tr>
<tr>
<td>regWage</td>
<td>Number</td>
<td>Regular hourly wage rate for employee</td>
</tr>
<tr>
<td>posEmpId</td>
<td>Number</td>
<td>POS numeric ID for employee</td>
</tr>
<tr>
<td>hsEmpId</td>
<td>Number</td>
<td>HotSchedules internal employee account ID</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store ID within HotSchedules, generally set up to mirror the client internal store IDs</td>
</tr>
<tr>
<td>ovtWage</td>
<td>Number</td>
<td>Overtime hourly wage rate for employee</td>
</tr>
<tr>
<td>posJobId</td>
<td>Number</td>
<td>POS numeric ID for the job code</td>
</tr>
<tr>
<td>primary</td>
<td>Boolean</td>
<td>Boolean flag to designate if the job code is the primary job for the employee</td>
</tr>
</tbody></table>

<h4 id="getgroups">getGroups</h4>

<p>This method takes in a <strong>concept ID</strong> and returns group information for the concept.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/getGroups&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "conceptExtId": 3714,
        "extId": 0,
        "name": "My Group Name"
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>conceptExtId</td>
<td>Number</td>
<td>Concept external ID</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>Group external ID</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Group name</td>
</tr>
</tbody></table>

<h4 id="getguestcounts">getGuestCounts</h4>

<p>This method will take a <strong>concept ID</strong>, <strong>store number</strong>, <strong>start</strong> and <strong>end dates</strong> and return a list of guest counts for the date range requested.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>start</td>
<td>dateTime</td>
<td>Start date for the range of data requested.  This is a basic dateTime object.</td>
</tr>
<tr>
<td>end</td>
<td>dateTime</td>
<td>End date for the range of data requested.  This is a basic dateTime object.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getGuestCounts?start_date=2016-04-30T00:00:00&amp;end_date=2016-05-03T00:00:00&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "businessDate": "2017-02-05T00:00:00-06:00",
        "dateTime": "2017-02-05T05:41:00-06:00",
        "guestCount": 8,
        "rvcExtId": 1
    },
    {
        "businessDate": "2017-03-05T00:00:00-06:00",
        "dateTime": "2017-03-05T05:41:00-06:00",
        "guestCount": 18,
        "rvcExtId": 1
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>businessDate</td>
<td>String</td>
<td>Business date of transaction</td>
</tr>
<tr>
<td>dateTime</td>
<td>String</td>
<td>Date time of the transaction</td>
</tr>
<tr>
<td>guestCount</td>
<td>Number</td>
<td>Number of guests for the transaction</td>
</tr>
<tr>
<td>rvcExtId</td>
<td>Number</td>
<td>Represents the numeric revenue center ID associated with the guest</td>
</tr>
</tbody></table>

<h4 id="getlaborbybusday">getLaborByBusDay</h4>

<p>This method will take a <strong>concept ID</strong>, <strong>store number</strong>, <strong>start</strong> and <strong>end dates</strong> and a <strong>labor type</strong> and return a list of total labor by job code for each interval in the date range requested for that concept, store and labor type.</p>

<p>Intervals are configured during initial setup for the customer and are typically 30 minutes.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept</td>
</tr>
<tr>
<td>start</td>
<td>hsSimpleDate</td>
<td>Start date for the range of data requested</td>
</tr>
<tr>
<td>end</td>
<td>hsSimpleDate</td>
<td>End date for the range of data requested</td>
</tr>
<tr>
<td>laborType</td>
<td>laborType</td>
<td>Type of labor requested. Allowed types are &ldquo;optimal&rdquo;, &ldquo;forecasted&rdquo; and &ldquo;scheduled&rdquo;.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getLaborByBusDay?start_day=30&amp;start_month=1&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&amp;labor_type=optimal&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong> </p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "interval": {
      "intervalDate": {
        "day": 1,
        "month": 2,
        "year": 2016
      },
      "intervalTime": {
        "hours": 0,
        "militaryTime": true,
        "minutes": 0,
        "seconds": 0
      },
      "laborType": "forecasted",
      "volume": 0
    }
  }
]  
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>intervalDate</td>
<td>Object</td>
<td>Date expressed in the record</td>
</tr>
<tr>
<td>intervalTime</td>
<td>Object</td>
<td>The hour, minutes, and seconds expressed in record</td>
</tr>
<tr>
<td>laborType</td>
<td>String</td>
<td>Type of labor requested. Allowed types are &ldquo;optimal&rdquo;, &ldquo;forecasted&rdquo; and &ldquo;scheduled&rdquo;.</td>
</tr>
<tr>
<td>volume</td>
<td>String</td>
<td>Number of employees based on demand at that interval</td>
</tr>
</tbody></table>

<h4 id="getlaborbyjobandinterval">getLaborByJobAndInterval</h4>

<p>This method will take a <strong>concept ID</strong>, <strong>store number</strong>, <strong>start</strong> and <strong>end dates</strong> and a <strong>labor type</strong> and return a list of total labor by job code for each interval in the date range requested for that concept, store and labor type.</p>

<p>Intervals are configured during initial setup for the customer and are typically 30 minutes.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>start</td>
<td>hsSimpleDate</td>
<td>Start date for the range of data requested</td>
</tr>
<tr>
<td>end</td>
<td>hsSimpleDate</td>
<td>End date for the range of data requested</td>
</tr>
<tr>
<td>laborType</td>
<td>laborType</td>
<td>Type of labor requested. Allowed types are &ldquo;optimal&rdquo;, &ldquo;forecasted&rdquo; and &ldquo;scheduled&rdquo;.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getLaborByJobAndInterval?start_day=30&amp;start_month=1&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&amp;labor_type=optimal&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "interval": {
      "intervalDate": {
        "day": 1,
        "month": 2,
        "year": 2016
      },
      "intervalTime": {
        "hours": 12,
        "militaryTime": true,
        "minutes": 0,
        "seconds": 0
      },
      "laborType": "scheduled",
      "volume": 0
    }
  }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>intervalDate</td>
<td>Object</td>
<td>Date expressed in the record</td>
</tr>
<tr>
<td>intervalTime</td>
<td>Object</td>
<td>The hour, minutes, and seconds expressed in record</td>
</tr>
<tr>
<td>laborType</td>
<td>String</td>
<td>Type of labor requested. Allowed types are &ldquo;optimal&rdquo;, &ldquo;forecasted&rdquo; and &ldquo;scheduled&rdquo;.</td>
</tr>
<tr>
<td>volume</td>
<td>String</td>
<td>Number of employees based on demand at that interval</td>
</tr>
</tbody></table>

<h4 id="getsalesitemsv3">getSalesItemsV3</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, <strong>start</strong> and <strong>end dates</strong>.It returns an array of sales for that store. </p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>start</td>
<td>hsSimpleDate</td>
<td>First day of projected sales requested. This is an hsSimpleDate object.</td>
</tr>
<tr>
<td>end</td>
<td>hsSimpleDate</td>
<td>Last day of projected sales requested. This is an hsSimpleDate object.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getSalesItemsV3?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "clientId": 1234567,
    "empId": 7,
    "extId": -3,
    "rvc": 1,
    "rvcName": "TAKE OUT",
    "salesCat": 1,
    "storeNum": 13,
    "ttl": 7.99,
    "businessDate": {
      "day": 30,
      "month": 4,
      "year": 2016
    },
    "transDate": {
      "day": 30,
      "month": 4,
      "year": 2016
    },
    "transTime": {
      "hours": 7,
      "militaryTime": true,
      "minutes": 33,
      "seconds": 0
    }
  }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>clientId</td>
<td>Object</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>empId</td>
<td>Array</td>
<td>Array of the day part total. Start Time and End Time</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>Optional-Unique transaction ID for the sales item</td>
</tr>
<tr>
<td>rvc</td>
<td>Number</td>
<td>Revenue center</td>
</tr>
<tr>
<td>rvcName</td>
<td>String</td>
<td>Name for the revenue center associated with the location within the restaurant</td>
</tr>
<tr>
<td>salesCat</td>
<td>Number</td>
<td>Sales category</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Store number</td>
</tr>
<tr>
<td>ttl</td>
<td>Number</td>
<td>Total sales for the sales category</td>
</tr>
<tr>
<td>businessDate</td>
<td>Object</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>transDate</td>
<td>Object</td>
<td>Transaction data</td>
</tr>
<tr>
<td>transTime</td>
<td>Object</td>
<td>Transaction time</td>
</tr>
</tbody></table>

<h4 id="getprojectedsalesv3">getProjectedSalesV3</h4>

<p>This method will take a <strong>concept ID</strong>, <strong>store number</strong>, <strong>start</strong> and <strong>end dates</strong>. This method uses hsSimpleDate objects for dates and hsSimpleTime objects for times.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>start</td>
<td>hsSimpleDate</td>
<td>First day of projected sales requested. This is an hsSimpleDate object.</td>
</tr>
<tr>
<td>end</td>
<td>hsSimpleDate</td>
<td>Last day of projected sales requested. This is an hsSimpleDate object.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getProjectedSalesV3?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "businessDate": {
        "month": 4,
        "year": 2016,
        "day": 30
      },
      "dayPartTotals": [
        {
          "summaryItemTotals": {
            "summaryItemTotal": 5246.26,
            "summaryItemName": "Take out Drive through"
          },
          "dayPartEndTime": {
            "hours": 4,
            "seconds": 0,
            "amPm": "pm",
            "militaryTime": true,
            "minutes": 0
          },
          "dayPartName": "Evening",
          "dayPartTotal": 5246.26,
          "dayPartStartTime": {
            "hours": 18,
            "seconds": 0,
            "amPm": "am",
            "militaryTime": true,
            "minutes": 0
          }
        }
      ],
      "dateTotal": 9934.779
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>businessDate</td>
<td>Object</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>dayPartTotals</td>
<td>Array</td>
<td>Array of the day part total. Start Time and End Time</td>
</tr>
<tr>
<td>dateTotal</td>
<td>Number</td>
<td>Total projected sales for the day part</td>
</tr>
</tbody></table>

<h4 id="getrcvs">getRCVs</h4>

<p>Revenue center information defined for a group.</p>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getRCVs&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "revenueCenterName": "Take Out",
      "extId": 0,
      "groupLevel": true
    },
    {
      "revenueCenterName": "Drive Thru",
      "extId": 1,
      "groupLevel": true
    },
    {
      "revenueCenterName": "Beverage",
      "extId": 2,
      "groupLevel": true
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>revenueCenterName</td>
<td>String</td>
<td>Revenue center name</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>Revenue center ID</td>
</tr>
<tr>
<td>groupLevel</td>
<td>Boolean</td>
<td>Indicates if the revenue center was created at a group level</td>
</tr>
</tbody></table>

<h4 id="getsalescats">getSalesCats</h4>

<p>This method takes in a <strong>concept ID</strong> and a <strong>store ID</strong> and returns an <strong>array of sales categories</strong> for that store. Sales categories will typically establish what kind of item was sold: Food, Beverage, Alcohol, Merchandise.Sales categories can be local to a particular store, or defined in HotSchedules as belonging to an entire group (called group-level sales categories).</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getSalesCats&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "salesCategoryName": "Beverages",
      "extId": 1,
      "groupLevel": true
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>salesCategoryName</td>
<td>String</td>
<td>Name of the sales category</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>External ID associated with the category</td>
</tr>
<tr>
<td>groupLevel</td>
<td>Boolean</td>
<td>Indicates if the revenue center was created at a group level</td>
</tr>
</tbody></table>

<h4 id="getschedulev3">getScheduleV3</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, <strong>start</strong> and <strong>end dates</strong>. It returns an <strong>array of WSScheduleItem3 objects</strong>, which represent one scheduled shift each, for import into the POS. This method returns the same data as getSchedule, plus extended scheduled shift data, including location ID, regular pay rate, OT pay rate, scheduled regular minutes, scheduled OT minutes (if any), scheduled special pay (if any) and the unique schedule ID, internal to HS.This method uses hsSimpleDate objects for dates. Note that the date referenced is the calendar date and not the business date.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>start</td>
<td>hsSimpleDate</td>
<td>First day of scheduled shifts you are requesting. This method uses hsSimpleDate objects for dates.</td>
</tr>
<tr>
<td>end</td>
<td>hsSimpleDate</td>
<td>Last day of scheduled shifts you are requesting. This method uses hsSimpleDate objects for dates.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getScheduleV3?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
      {
     "inDate": {
       "month": 5,
       "year": 2016,
       "day": 2
     },
     "inTime": {
       "hours": 9,
       "seconds": 0,
       "militaryTime": true,
       "minutes": 0
      },
      "outDate": {
       "month": 5,
       "year": 2016,
       "day": 2
     },
     "outTime": {
       "hours": 18,
       "seconds": 0,
       "militaryTime": true,
       "minutes": 0
      },
     "jobHsId": 1111111,
     "payRate": 1,
     "specialPay": 0,
     "empHSId": 222222,
     "ovtMinutes": 0,
    }  
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>outDate</td>
<td>Object</td>
<td>Schedules out date</td>
</tr>
<tr>
<td>jobHsId</td>
<td>Number</td>
<td>HotSchedules internal job code ID</td>
</tr>
<tr>
<td>payRate</td>
<td>Number</td>
<td>Regular hourly pay rate for employee</td>
</tr>
<tr>
<td>inDate</td>
<td>Object</td>
<td>Scheduled in date</td>
</tr>
<tr>
<td>specialPay</td>
<td>Number</td>
<td>Special Pay amounts</td>
</tr>
<tr>
<td>empHsId</td>
<td>Number</td>
<td>HotSchedules internal employee account ID</td>
</tr>
<tr>
<td>ovtMinutes</td>
<td>Number</td>
<td>Total Overtime Minutes for employee</td>
</tr>
<tr>
<td>inTime</td>
<td>Object</td>
<td>Scheduled in time</td>
</tr>
<tr>
<td>outTime</td>
<td>Object</td>
<td>Scheduled out time</td>
</tr>
</tbody></table>

<h4 id="getshiftsv3">getShiftsV3</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, <strong>start</strong> and <strong>end dates</strong> and three flags (<strong>isHouse</strong>, <strong>isScheduled</strong> and <strong>isPosted</strong>). It returns an array of WSScheduleItem3 objects, which represent one scheduled shift each. What shifts are returned depends on the flags set:</p>

<ul>
<li><strong>isHouse</strong> - includes scheduled or posted shifts that are not assigned to an employee (called &lsquo;house shifts&rsquo; in HotSchedules).</li>
<li><strong>isScheduled</strong> - includes shifts that are in schedules that have been saved in HotSchedules, but might not have been posted.</li>
<li><strong>isPosted</strong> - includes shifts that are in schedules that have been set to the &#39;posted&rsquo; status within HotSchedules.</li>
</ul>

<p>This method returns extended scheduled shift data, including location ID, regular pay rate, OT pay rate, scheduled regular minutes, scheduled OT minutes (if any), scheduled special pay (if any) and the unique schedule ID, internal to HS.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>Day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>Month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>Year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
<tr>
<td>isHouse</td>
<td>Boolean</td>
<td>Include house shifts? These are shifts which were never assigned to someone on a schedule, or were once assigned but removed from an employee when their status, job, etc. changed.</td>
</tr>
<tr>
<td>isScheduled</td>
<td>Boolean</td>
<td>Include scheduled shifts? These are shifts which are on a schedule that has been saved in HotSchedules, but might not have been posted</td>
</tr>
<tr>
<td>isPosted</td>
<td>Boolean</td>
<td>These are shifts that are in schedules that have been set to the &#39;posted&rsquo; status within HotSchedules.</td>
</tr>
<tr>
<td>jobCodes</td>
<td>IntArray</td>
<td>Integer array of job codes to be included in this method&rsquo;s return. if this parameter is null or empty, all jobs will be included.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getShiftsV3?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&amp;is_house=true&amp;is_scheduled=true&amp;is_posted=true&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "empHSId": -1,
      "empPosId": -1,
      "jobHsId": 786323133,
      "jobPosId": 11,
      "inDate": {
        "day": 5,
        "month": 5,
        "year": 2016
      },
      "outDate": {
        "day": 5,
        "month": 5,
        "year": 2016
      },
      "inTime": {
        "hours": 9,
        "militaryTime": true,
        "minutes": 0,
        "seconds": 0
      },
      "outTime": {
        "hours": 16,
        "militaryTime": true,
        "minutes": 0,
        "seconds": 0
      },
      "weekStart": {
        "day": 2,
        "month": 5,
        "year": 2016
      },
      "weekEnd": {
        "day": 8,
        "month": 5,
        "year": 2016
      },
      "locationId": 787124196,
      "scheduleId": 781691586,
      "payRate": 0,
      "ovtRate": 0,
      "ovtMinutes": 0,
      "regMinutes": 420,
      "specialPay": 0
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>empHsId</td>
<td>Number</td>
<td>HotSchedules internal employee account ID</td>
</tr>
<tr>
<td>empPosId</td>
<td>Number</td>
<td>POS numeric Employee ID</td>
</tr>
<tr>
<td>jobHsId</td>
<td>Number</td>
<td>HotSchedules internal job code ID</td>
</tr>
<tr>
<td>jobPosId</td>
<td>Number</td>
<td>POS job code ID</td>
</tr>
<tr>
<td>inDate</td>
<td>Object</td>
<td>Scheduled in date</td>
</tr>
<tr>
<td>outDate</td>
<td>Object</td>
<td>Schedules out date</td>
</tr>
<tr>
<td>inTime</td>
<td>Object</td>
<td>Scheduled in time</td>
</tr>
<tr>
<td>outTime</td>
<td>Object</td>
<td>Scheduled out time</td>
</tr>
<tr>
<td>weekStart</td>
<td>Object</td>
<td>Start date of the work week</td>
</tr>
<tr>
<td>weekEnd</td>
<td>Object</td>
<td>End date of the work week</td>
</tr>
<tr>
<td>locationId</td>
<td>Number</td>
<td>Location ID</td>
</tr>
<tr>
<td>scheduleId</td>
<td>Number</td>
<td>Schedule ID</td>
</tr>
<tr>
<td>payRate</td>
<td>Number</td>
<td>Regular hourly pay rate for employee</td>
</tr>
<tr>
<td>ovtRate</td>
<td>Number</td>
<td>overtime pay rate</td>
</tr>
<tr>
<td>ovtMinutes</td>
<td>Number</td>
<td>Total overtime minutes for employee</td>
</tr>
<tr>
<td>regMinutes</td>
<td>Number</td>
<td>total regular minutes for employee</td>
</tr>
<tr>
<td>specialPay</td>
<td>Number</td>
<td>Special Pay amounts</td>
</tr>
</tbody></table>

<h4 id="getstoreemployees">getStoreEmployees</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, a flag to determine if only active employees are returned, and returns an <strong>array of WSEmployee objects</strong>.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>active_only</td>
<td>Boolean</td>
<td>Boolean that defines whether or not to include terminated employees in response.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getStoreEmployees?active_only=true&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
      "zipCode": 12345,
      "hireDate": "2016-11-03T10:16:38.533-05:00",
      "address": "111 Addy Way",
      "clientId": 87654321,
      "LName": "Lockman",
      "address2": "Unit 3",
      "city": "Austin",
      "mobile": "(222) 222-2222",
      "NName": "Jay",
      "altId": -1,
      "FName": "Harrison",
      "empNum": -1,
      "phone": "(333) 333-3333",
      "hsId": 987654321,
      "dob": "1981-09-16T00:00:00-05:00",
      "state": "TX",
      "storeNum": 3,
      "email": "harrison.lockman@email.com",
      "status": 1
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>zipCode</td>
<td>Number</td>
<td>Zip Code</td>
</tr>
<tr>
<td>hireDate</td>
<td>String</td>
<td>Employee Hire Date</td>
</tr>
<tr>
<td>address</td>
<td>String</td>
<td>Employee Address line 1</td>
</tr>
<tr>
<td>clientId</td>
<td>Number</td>
<td>Unique identifier for client provided via HotSchedules</td>
</tr>
<tr>
<td>LName</td>
<td>String</td>
<td>Employee Last Name</td>
</tr>
<tr>
<td>address2</td>
<td>String</td>
<td>Employee Address line 2</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>City field for Address</td>
</tr>
<tr>
<td>mobile</td>
<td>String</td>
<td>Employees Mobile Phone</td>
</tr>
<tr>
<td>NName</td>
<td>String</td>
<td>Employee Nickname</td>
</tr>
<tr>
<td>altId</td>
<td>Number</td>
<td>Employee HR ID. This must be a unique value across the company. It is used for HotSchedules Shared Employees.</td>
</tr>
<tr>
<td>FName</td>
<td>String</td>
<td>Employee First Name</td>
</tr>
<tr>
<td>empNum</td>
<td>Number</td>
<td>Employee POS ID</td>
</tr>
<tr>
<td>phone</td>
<td>String</td>
<td>Phone Number</td>
</tr>
<tr>
<td>hsId</td>
<td>Number</td>
<td>HS unique ID of an employee that is assigned at the time the employee is created in HS. This number is not configurable but automatically assigned. This number can be obtained through the get method and is an option to include in the set. However this is not necessary</td>
</tr>
<tr>
<td>dob</td>
<td>String</td>
<td>Date of birth</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>State</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store ID within HotSchedules. Generally set up to mirror the client internal store IDs.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Employee’s email address</td>
</tr>
<tr>
<td>status</td>
<td>Number</td>
<td>Active = 1, Inactive = 0, Terminated = -1</td>
</tr>
</tbody></table>

<h4 id="getstorejobs">getStoreJobs</h4>

<p>This method takes in a <strong>concept ID</strong> and a <strong>store ID</strong>, and returns an array of all jobs currently defined in HotSchedules for the given concept/store.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getStoreJobs&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "jobName": "Manager",
      "posId": 11,
      "clientId": 14935376,
      "hsId": 786323133,
      "defRate": 0,
      "storeNum": 3
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>jobName</td>
<td>String</td>
<td>Name for Job Code</td>
</tr>
<tr>
<td>posId</td>
<td>Number</td>
<td>Numeric POS ID for Job Code</td>
</tr>
<tr>
<td>clientId</td>
<td>Number</td>
<td>Unique identifier for client provided via HotSchedules</td>
</tr>
<tr>
<td>hsId</td>
<td>Number</td>
<td>HS unique ID of an employee that is assigned at the time the employee is created in HS. This number is not configurable but automatically assigned. This number can be obtained through the get method and is an option to include in the set. However this is not necessary</td>
</tr>
<tr>
<td>defRate</td>
<td>Number</td>
<td>Default Pay Rate for a Job Code</td>
</tr>
</tbody></table>

<h4 id="getstoresv2">getStoresV2</h4>

<p>Returns information about the stores within a group.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>group_id</td>
<td>Number</td>
<td>Group in which the store is assigned</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/getStoresV2?group_id=0&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "groupName": "HS Grill",
      "active": true,
      "groupExtId": 1,
      "storeName": "Sales Demo - Bug Test",
      "storeNum": -1,
      "city": "Fremont",
      "postalCode": "94555",
      "stateProvince": "CA",
      "streetAddress1": "1 st. address",
      "streetAddress2": "Unit 3",
      "timeZone": "US/Central"
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>groupName</td>
<td>String</td>
<td>Name of the group</td>
</tr>
<tr>
<td>active</td>
<td>Boolean</td>
<td>Indicates if the store is active</td>
</tr>
<tr>
<td>groupExtId</td>
<td>Number</td>
<td>The external ID for the store</td>
</tr>
<tr>
<td>storeName</td>
<td>String</td>
<td>The name of the store</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store ID within HotSchedules. Generally set up to mirror the client internal store IDs.</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>City</td>
</tr>
<tr>
<td>postalCode</td>
<td>Number</td>
<td>Zip code / postal code</td>
</tr>
<tr>
<td>stateProvince</td>
<td>String</td>
<td>State province</td>
</tr>
<tr>
<td>streetAddress1</td>
<td>String</td>
<td>Main street adress</td>
</tr>
<tr>
<td>streetAddress2</td>
<td>String</td>
<td>Apartment number, Suite, Unit, etc..</td>
</tr>
<tr>
<td>timeZone</td>
<td>String</td>
<td>Store timezone</td>
</tr>
</tbody></table>

<h4 id="gettimecards">getTimeCards</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, <strong>start</strong> and <strong>end dates</strong>. It returns an <strong>array of wsTimeCard3 objects</strong>, which represent one employee time card each. Each time card has information for one employee punch record, including business date, regular and OT minutes and wages, clock in and clock out times. If this store is using HotSchedules&rsquo; web-based timeclock for employee clock-in, any open punches in the date range are also included in the response.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>Day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>Month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>Year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getTimeCards?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
      "jobName": "Bartender",
      "ovtTtl": 0,
      "ovtHrs": 0,
      "clockOut": "2016-05-01T23:48:00-05:00",
      "regWage": 0,
      "clockIn": "2016-05-01T16:36:00-05:00",
      "ovtWage": 7.5,
      "breakMinutes": 0,
      "jobExtId": 18,
      "jobId": -1,
      "businessDate": {
        "month": 5,
        "year": 2016,
        "day": 1
      },
      "regHrs": 7.2,
      "spcTtl": 7.25,
      "hsId": 929931332168,
      "spcHrs": 0,
      "ovtMins": 0,
      "extId": -2005922,
      "storeNum": 3,
      "empPosId": 2068,
      "regTtl": 0
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>jobName</td>
<td>String</td>
<td>POS job code name</td>
</tr>
<tr>
<td>ovtTtl</td>
<td>Number</td>
<td>Optional-Overtime total pay amount</td>
</tr>
<tr>
<td>ovtHrs</td>
<td>Number</td>
<td>Optional-Overtime hours in shift</td>
</tr>
<tr>
<td>clockOut</td>
<td>String</td>
<td>Clock out timestamp for the shift</td>
</tr>
<tr>
<td>regWage</td>
<td>Number</td>
<td>Regular hourly pay rate</td>
</tr>
<tr>
<td>clockIn</td>
<td>String</td>
<td>Clock in timestamp for the shift</td>
</tr>
<tr>
<td>ovtWage</td>
<td>Number</td>
<td>Optional-Overtime hourly pay rate</td>
</tr>
<tr>
<td>breakMinutes</td>
<td>Number</td>
<td>Number of non-paid break minutes in shift</td>
</tr>
<tr>
<td>jobId</td>
<td>Number</td>
<td>POS numeric identifier for the job</td>
</tr>
<tr>
<td>jobExtId</td>
<td>Number</td>
<td>POS numeric Job Code ID</td>
</tr>
<tr>
<td>businessDate</td>
<td>Array</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>regHrs</td>
<td>Number</td>
<td>Regular hours represented in shift</td>
</tr>
<tr>
<td>spcTtl</td>
<td>Number</td>
<td>Optional-Special Pay total pay amount</td>
</tr>
<tr>
<td>hsId</td>
<td>Number</td>
<td>Optional-Internal HotSchedules employee Account ID. Not required, will be set by the service.</td>
</tr>
<tr>
<td>spcHrs</td>
<td>Number</td>
<td>Optional-Special Pay Hours</td>
</tr>
<tr>
<td>ovtMins</td>
<td>Number</td>
<td>Optional-Overtime minutes in shift</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store identifier. Generally set up to mirror the client internal store ID.</td>
</tr>
<tr>
<td>empPosId</td>
<td>Number</td>
<td>POS numeric Employee ID</td>
</tr>
<tr>
<td>regTtl</td>
<td>Number</td>
<td>Regular total pay amount</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>Optional-Unique transaction ID for the time card record</td>
</tr>
</tbody></table>

<h4 id="gettimecardsv2">getTimeCardsV2</h4>

<p>Same as <strong>getTimeCards</strong> but additionally provides double time info for each timecard.</p>

<h4 id="gettimecardsdeclaredtips">getTimeCardsDeclaredTips</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, <strong>start</strong> and <strong>end dates</strong>. It returns an <strong>array of wsTimeCard3 objects</strong>, which represent one employee time card each. Each time card has information for one employee punch record, including business date, regular and OT minutes and wages, clock in, clock out times and declared tips. If this store is using HotSchedules&rsquo; web-based timeclock for employee clock-in, any open punches in the date range are also included in the response.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>Day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>Month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>Year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getTimeCardsDeclaredTips?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "breakMinutes": 0,
      "empPosId": 4067,
      "extId": -2031248,
      "hsId": 929931332583,
      "jobExtId": 18,
      "jobId": -1,
      "jobName": "Bartender",
      "ovtHrs": 0,
      "ovtMins": 0,
      "ovtTtl": 0,
      "ovtWage": 6.75,
      "regHrs": 5.1,
      "regTtl": 22.95,
      "regWage": 4.5,
      "spcHrs": 0,
      "spcTtl": 0,
      "storeNum": 2,
      "businessDate": {
      "day": 30,
      "month": 4,
      "year": 2016
      },
      "clockIn": "2016-04-30T09:29:00-05:00",
      "clockOut": "2016-04-30T14:35:00-05:00",
      "declaredTips": 0
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>jobName</td>
<td>String</td>
<td>POS job code name</td>
</tr>
<tr>
<td>ovtTtl</td>
<td>Number</td>
<td>Optional-Overtime total pay amount</td>
</tr>
<tr>
<td>ovtHrs</td>
<td>Number</td>
<td>Optional-Overtime hours in shift</td>
</tr>
<tr>
<td>clockOut</td>
<td>String</td>
<td>Clock out timestamp for the shift</td>
</tr>
<tr>
<td>regWage</td>
<td>Number</td>
<td>Regular hourly pay rate</td>
</tr>
<tr>
<td>clockIn</td>
<td>String</td>
<td>Clock in timestamp for the shift</td>
</tr>
<tr>
<td>ovtWage</td>
<td>Number</td>
<td>Optional-Overtime hourly pay rate</td>
</tr>
<tr>
<td>breakMinutes</td>
<td>Number</td>
<td>Number of non-paid break minutes in shift</td>
</tr>
<tr>
<td>jobId</td>
<td>Number</td>
<td>POS numeric identifier for the job</td>
</tr>
<tr>
<td>jobExtId</td>
<td>Number</td>
<td>POS numeric Job Code ID</td>
</tr>
<tr>
<td>businessDate</td>
<td>Array</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>regHrs</td>
<td>Number</td>
<td>Regular hours represented in shift</td>
</tr>
<tr>
<td>spcTtl</td>
<td>Number</td>
<td>Optional-Special Pay total pay amount</td>
</tr>
<tr>
<td>hsId</td>
<td>Number</td>
<td>Optional-Internal HotSchedules employee Account ID. Not required, will be set by the service.</td>
</tr>
<tr>
<td>spcHrs</td>
<td>Number</td>
<td>Optional-Special Pay Hours</td>
</tr>
<tr>
<td>ovtMins</td>
<td>Number</td>
<td>Optional-Overtime minutes in shift</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store identifier.  Generally set up to mirror the client internal store ID.</td>
</tr>
<tr>
<td>empPosId</td>
<td>Number</td>
<td>POS numeric Employee ID</td>
</tr>
<tr>
<td>regTtl</td>
<td>Number</td>
<td>Regular total pay amount</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>Optional-Unique transaction ID for the time card record</td>
</tr>
<tr>
<td>declaredTips</td>
<td>Number</td>
<td>Tip amount</td>
</tr>
</tbody></table>

<h4 id="getvolumecounts">getVolumeCounts</h4>

<p>This method will take a <strong>concept ID</strong>, <strong>store number</strong>, <strong>start</strong> and <strong>end dates</strong> and a <strong>volume type</strong> and return a list of volume counts for the date range requested.
Supported Volume Types are:  “TABLES”, “ENTRÉE”, “GUESTS”, “DELIVERIES”, “PRODUCTS”, and “TRANSACTIONS”.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>volumeType</td>
<td>volumeType</td>
<td>Classification of driver requested. Allowed types would be all of the classifications supported from API, HSC, or FTP integration.  “Guests”, “Tables”, “Entrees”, “Deliveries”, &ldquo;Transactions&rdquo; and “Products”.</td>
</tr>
<tr>
<td>start</td>
<td>hsSimpleDate</td>
<td>Start date for the range of data requested</td>
</tr>
<tr>
<td>end</td>
<td>hsSimpleDate</td>
<td>End date for the range of data requested</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X GET -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/getVolumeCounts?start_date=2015-04-30T00:00:00&amp;end_date=2016-05-03T00:00:00&amp;volume_type=TABLE&quot;</code></p>

<blockquote>
<p><strong>Sample JSON response:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "dateTime": "2016-05-03T23:30:00-05:00",
      "volumeAmount": 5,
      "businessDate": "2016-05-03T00:00:00-05:00",
      "volumeType": "Guests",
      "rvcExtId": 0
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>dateTime</td>
<td>String</td>
<td>Date of business</td>
</tr>
<tr>
<td>volumeAmount</td>
<td>Number</td>
<td>Value of the volume count for the transaction</td>
</tr>
<tr>
<td>businessDate</td>
<td>String</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>volumeType</td>
<td>String</td>
<td>Classification of driver requested. Allowed types would be all of the classifications supported from API, HSC, or FTP integration.  “Guests”, “Tables”, “Entrees”, “Deliveries”, &ldquo;Transactions&rdquo; and “Products”.</td>
</tr>
<tr>
<td>rvcExtId</td>
<td>Number</td>
<td>Represents the numeric revenue center ID associated with the volume count</td>
</tr>
</tbody></table>

<aside class="notice"> <strong>WRITING DATA METHODS</strong> </aside>

<h4 id="settimecardsv3">setTimeCardsV3</h4>

<p>Extends dataTimeCard (includes business date and clock in and clockout date/times).</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>start_day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>start_month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>start_year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
<tr>
<td>end_day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>end_month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>end_year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setTimeCardsV3?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot; -d &quot;[{ \&quot;jobName\&quot;: \&quot;Cook\&quot;, \&quot;ovtTtl\&quot;: 0, \&quot;ovtHrs\&quot;: 0, \&quot;clockOut\&quot;: \&quot;2016-07-31T22:05:00-05:00\&quot;, \&quot;regWage\&quot;: 9, \&quot;clockIn\&quot;: \&quot;2016-07-30T15:56:00-05:00\&quot;, \&quot;ovtWage\&quot;: 13.5, \&quot;breakMinutes\&quot;: 0, \&quot;jobId\&quot;: 16921407, \&quot;businessDate\&quot;: { \&quot;month\&quot;: 7, \&quot;year\&quot;: 2016, \&quot;day\&quot;: 31 }, \&quot;regHrs\&quot;: 6.15, \&quot;spcTtl\&quot;: 0, \&quot;hsId\&quot;: 929931334634, \&quot;spcHrs\&quot;: 0, \&quot;ovtMins\&quot;: 0, \&quot;storeNum\&quot;: 1, \&quot;empPosId\&quot;: 1052, \&quot;regTtl\&quot;: 55.35 }]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "jobName": "Cook",
      "ovtTtl": 0,
      "ovtHrs": 0,
      "clockOut": "2016-07-31T22:05:00-05:00",
      "regWage": 9,
      "clockIn": "2016-07-30T15:56:00-05:00",
      "ovtWage": 13.5,
      "breakMinutes": 0,
      "jobId": 16921407,
      "businessDate": {
        "month": 7,
        "year": 2016,
        "day": 31,
      },
      "regHrs": 6.15,
      "spcTtl": 0,
      "hsId": 929931334634,
      "spcHrs": 0,
      "ovtMins": 0,
      "storeNum": 1,
      "empPosId": 1052,
      "regTtl": 55.35
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>jobName</td>
<td>String</td>
<td>POS job code name</td>
</tr>
<tr>
<td>ovtTtl</td>
<td>Number</td>
<td>Optional-Overtime total pay amount</td>
</tr>
<tr>
<td>ovtHrs</td>
<td>Number</td>
<td>Optional-Overtime hours in shift</td>
</tr>
<tr>
<td>clockOut</td>
<td>String</td>
<td>Clock out timestamp for the shift</td>
</tr>
<tr>
<td>regWage</td>
<td>Number</td>
<td>Regular hourly pay rate</td>
</tr>
<tr>
<td>clockIn</td>
<td>String</td>
<td>Clock in timestamp for the shift</td>
</tr>
<tr>
<td>ovtWage</td>
<td>Number</td>
<td>Optional-Overtime hourly pay rate</td>
</tr>
<tr>
<td>breakMinutes</td>
<td>Number</td>
<td>Number of non-paid break minutes in shift</td>
</tr>
<tr>
<td>jobId</td>
<td>Number</td>
<td>POS numeric identifier for the job</td>
</tr>
<tr>
<td>businessDate</td>
<td>Array</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>regHrs</td>
<td>Number</td>
<td>Regular hours represented in shift</td>
</tr>
<tr>
<td>spcTtl</td>
<td>Number</td>
<td>Optional-Special Pay total pay amount</td>
</tr>
<tr>
<td>hsId</td>
<td>Number</td>
<td>Optional-Internal HotSchedules employee Account ID. Not required, will be set by the service.</td>
</tr>
<tr>
<td>spcHrs</td>
<td>Number</td>
<td>Optional-Special Pay Hours</td>
</tr>
<tr>
<td>ovtMins</td>
<td>Number</td>
<td>Optional-Overtime minutes in shift</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store identifier. Generally set up to mirror the client internal store ID.</td>
</tr>
<tr>
<td>empPosId</td>
<td>Number</td>
<td>POS numeric Employee ID</td>
</tr>
<tr>
<td>regTtl</td>
<td>Number</td>
<td>Regular total pay amount</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>Optional-Unique transaction ID for the time card record</td>
</tr>
</tbody></table>

<h4 id="setempjobs">setEmpJobs</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, and an <strong>array of WSEmpJob</strong> objects to assign jobs to individual employees. This method returns a WSReturn object.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>Day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>Month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>Year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setEmpJobs?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "hsJobId": 11878523,
      "clientId": 14935376,
      "regWage": 1,
      "posEmpId": 2069,
      "hsEmpId": 4177214,
      "storeNum": 3,
      "ovtWage": 1.5,
      "posJobId": 18,
      "primary": true
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hsJobId</td>
<td>Number</td>
<td>HotSchedules internal job code ID</td>
</tr>
<tr>
<td>clientId</td>
<td>Number</td>
<td>Unique identifier for client provided via HotSchedules</td>
</tr>
<tr>
<td>regWage</td>
<td>Number</td>
<td>Regular hourly wage rate for employee</td>
</tr>
<tr>
<td>posEmpId</td>
<td>Number</td>
<td>POS numeric ID for employee</td>
</tr>
<tr>
<td>hsEmpId</td>
<td>Number</td>
<td>HotSchedules internal employee account ID</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store ID within HotSchedules. Generally set up to mirror the client internal store IDs.</td>
</tr>
<tr>
<td>ovtWage</td>
<td>Number</td>
<td>Overtime hourly wage rate for employee</td>
</tr>
<tr>
<td>posJobId</td>
<td>Number</td>
<td>POS numeric ID for the job code</td>
</tr>
<tr>
<td>primary</td>
<td>Boolean</td>
<td>Boolean flag to designate if the job code is the primary job for the employee</td>
</tr>
</tbody></table>

<h4 id="setemps">setEmps</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong> and an <strong>array of WSEmployee objects</strong>. Using the authentication from the username token and the conecpt and store IDs, the server will resolve which HotSchedules client this sync is for. The array of employees will be parsed on the server side to employees who need to be inserted or updated in the HS database. This method returns a WSReturn object.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>emps</td>
<td>wsEmployeeArray</td>
<td>Array of WSEmployee objects. Each object represents an employee at this store.</td>
</tr>
<tr>
<td>Day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>Month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>Year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setEmps?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
      "zipCode": 78681,
      "hireDate": "2017-08-03T10:16:38.533-05:00",
      "termDate": "2017-11-05T10:16:38.533-05:00",
      "address": "111 Addy Way",
      "clientId": 25124840,
      "LName": "Lockman",
      "address2": "Unit 3",
      "city": "Austin",
      "mobile": "(222) 222-2222",
      "NName": "Jay",
      "altId": -1,
      "FName": "Harrison",
      "empNum": -1,
      "phone": "(333) 333-3333",
      "hsId": 587378309,
      "dob": "1981-09-16T00:00:00-05:00",
      "state": "TX",
      "storeNum": 98,
      "email": "harrison.lockman@email.com",
      "status": 1
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>zipCode</td>
<td>Number</td>
<td>Zip Code</td>
</tr>
<tr>
<td>hireDate</td>
<td>String</td>
<td>Employee Hire Date</td>
</tr>
<tr>
<td>termDate</td>
<td>String</td>
<td>Employee Termination Date</td>
</tr>
<tr>
<td>address</td>
<td>String</td>
<td>Employee Address line 1</td>
</tr>
<tr>
<td>clientId</td>
<td>Number</td>
<td>Unique identifier for client provided via HotSchedules</td>
</tr>
<tr>
<td>LName</td>
<td>String</td>
<td>Employee Last Name</td>
</tr>
<tr>
<td>address2</td>
<td>String</td>
<td>Employee Address line 2</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>City field for Address</td>
</tr>
<tr>
<td>mobile</td>
<td>String</td>
<td>Employees Mobile Phone</td>
</tr>
<tr>
<td>NName</td>
<td>String</td>
<td>Employee Nickname</td>
</tr>
<tr>
<td>altId</td>
<td>Number</td>
<td>Employee HR ID. This must be a unique value across the company. It is used for HotSchedules Shared Employees.</td>
</tr>
<tr>
<td>FName</td>
<td>String</td>
<td>Employee First Name</td>
</tr>
<tr>
<td>empNum</td>
<td>Number</td>
<td>Employee POS ID</td>
</tr>
<tr>
<td>phone</td>
<td>String</td>
<td>Phone Number</td>
</tr>
<tr>
<td>hsId</td>
<td>Number</td>
<td>HS unique ID of an employee that is assigned at the time the employee is created in HS. This number is not configurable but automatically assigned. This number can be obtained through the get method and is an option to include in the set. However this is not necessary</td>
</tr>
<tr>
<td>dob</td>
<td>String</td>
<td>Date of birth</td>
</tr>
<tr>
<td>state</td>
<td>String</td>
<td>State</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store ID within HotSchedules. Generally set up to mirror the client internal store IDs.</td>
</tr>
<tr>
<td>email</td>
<td>String</td>
<td>Employee’s email address</td>
</tr>
<tr>
<td>status</td>
<td>Number</td>
<td>Active = 1, Inactive = 0, Terminated = -1</td>
</tr>
</tbody></table>

<h4 id="setforecastdriversv2">setForecastDriversV2</h4>

<p>This method takes in a <strong>startdate</strong>, <strong>enddate</strong>, <strong>starttime</strong>, <strong>endtime</strong>, <strong>volume amount</strong>, <strong>volume type</strong>, and a <strong>revenue center</strong> for the purpose of submitting forecasted volume drivers to HotSchedules from a third party system or point of sale. Using the authentication from the username token and the concept and store IDs, the server will resolve which HotSchedules client this sync is for. The array contains volume driver counts for a range of dates, corresponding to the start and end dates. The server side logic can handle overlapping data (i.e. if you sync 7 days worth of time cards, every day, 6 days of it will be &ldquo;overlapping&rdquo; data) and will insert and update data as needed. If the guest are already in the HS database and do not need to be updated, then nothing will change.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>Day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>Month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>Year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setForecastDriversV2?start_day=30&amp;start_month=4&amp;start_year=2016&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
      "driverAmount": 10,
      "intervalStartDate" : {
        "day": 15,
        "month": 4,
        "year": 2018
      },
      "intervalEndDate": {
        "day": 15,
        "month": 4,
        "year": 2018
      },
      "intervalStartTime": {
        "amPm": "pm",
        "hours": 1,
        "seconds": 0,
        "militaryTime": false,
        "minutes": 0
      },
      "intervalEndTime": {
        "amPm": "pm",
        "hours": 1,
        "seconds": 0,
        "militaryTime": false,
        "minutes": 30
      },
      "rvcId": 1,
      "volumeType": "Guests"
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>workweekStartDate</td>
<td>Object</td>
<td>Start date of the work week</td>
</tr>
<tr>
<td>driverAmount</td>
<td>Number</td>
<td>Quantity of driver for interval expressed in the record</td>
</tr>
<tr>
<td>intervalStartTime</td>
<td>Object</td>
<td>The hour, minutes, and seconds corresponding to the start of the interval expressed in the record. Interval times are local to the store’s time zone.</td>
</tr>
<tr>
<td>intervalEndTime</td>
<td>Object</td>
<td>The hour, minutes, and seconds corresponding to the end of the interval expressed in the record. Interval times are local to the store’s time zone.</td>
</tr>
<tr>
<td>intervalStartDate</td>
<td>Object</td>
<td>The date corresponding to the start of the interval expressed in the record</td>
</tr>
<tr>
<td>intervalEndDate</td>
<td>Object</td>
<td>The date corresponding to the end of the interval expressed in the record</td>
</tr>
<tr>
<td>rvcId</td>
<td>Number</td>
<td>Numeric ID for the revenue center associated with the location within the restaurant</td>
</tr>
<tr>
<td>volumeType</td>
<td>String</td>
<td>Classification of driver requested. Allowed types would be all of the classifications supported from API, HSC, or FTP integration.  “Guests”, “Tables”, “Entrees”, “Deliveries”, &ldquo;Transactions&rdquo; and “Products”.</td>
</tr>
</tbody></table>

<h4 id="setguestcounts">setGuestCounts</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, <strong>start and end date</strong>, <strong>business date</strong>, <strong>date time</strong>, <strong>guest count (must be a positive integer)</strong> and a <strong>revenue center</strong> for the purpose of submitting actual guest count drivers to HotSchedules from a third party system or point of sale. Using the authentication from the username token and the concept and store IDs, the server will resolve which HotSchedules client this sync is for. The array contains guest counts for a range of dates, corresponding to the start and end dates. The server-side logic can handle overlapping data (i.e. if you sync 7 days worth of time cards, every day, 6 days of it will be &ldquo;overlapping&rdquo; data) and will insert and update data as needed. If the guest are already in the HS database and do not need to be updated, then nothing will change. This method returns a WSReturn object.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>start_day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>start_month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>start_year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
<tr>
<td>end_day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>end_month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>end_year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setGuestCounts?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "dateTime": "2016-05-03T23:30:00-05:00",
      "businessDate": "2016-05-03T00:00:00-05:00",
      "guestCount": 113,
      "rvcExtID": 123
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>businessDate</td>
<td>String</td>
<td>Business date of transaction</td>
</tr>
<tr>
<td>dateTime</td>
<td>String</td>
<td>Date Time of the transaction</td>
</tr>
<tr>
<td>guestCount</td>
<td>Number</td>
<td>Number of guests for the transaction (must be a positive integer)</td>
</tr>
<tr>
<td>rvcExtID</td>
<td>Number</td>
<td>Numeric ID for the revenue center associated with the transaction</td>
</tr>
</tbody></table>

<h4 id="setrvc">setRVC</h4>

<p>This method takes in a <strong>concept ID</strong> and a <strong>store ID</strong> and returns an <strong>array of revenue centers</strong> for that store.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept</td>
</tr>
<tr>
<td>group</td>
<td>Number</td>
<td>Numeric ID group in which the store is assigned</td>
</tr>
<tr>
<td>rvcId</td>
<td>Number</td>
<td>Numeric ID for the revenue center associated with the location within the restaurant</td>
</tr>
<tr>
<td>rvcName</td>
<td>String</td>
<td>Name for the revenue center associated with the location within the restaurant. <br> i.e. Bar, Togo etc&hellip;</td>
</tr>
<tr>
<td>isGroupLevel</td>
<td>Boolean</td>
<td>Indicates if the revenue center is assigned at the group level. <br> i.e. Bar used across all locations</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setRVC?group=1&amp;rvcId=1&amp;rvcName=1&amp;isGroupLevel=true&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong> </p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
      "concept": 1,
      "group": 1,
      "isGroupLevel": true,
      "store": 13,
      "rvcId": 11,
      "rvcName": "Bar"
    }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>group</td>
<td>Number</td>
<td>Numeric ID group in which the store is assigned</td>
</tr>
<tr>
<td>rvcId</td>
<td>Number</td>
<td>Numeric ID for the revenue center associated with the location within the restaurant</td>
</tr>
<tr>
<td>rvcName</td>
<td>String</td>
<td>Name for the revenue center associated with the location within the restaurant. <br> i.e. Bar, Togo etc&hellip;</td>
</tr>
<tr>
<td>isGroupLevel</td>
<td>Boolean</td>
<td>Indicates if the revenue center is assigned at the group level. <br> i.e. Bar used across all locations</td>
</tr>
</tbody></table>

<h4 id="setsalescat">setSalesCat</h4>

<p>This method allows you to add the sales category associated with menu items. Sales categories will typically establish what kind of item was sold: Food, Beverage, Alcohol, Merchandise. Sales categories can be local to a particular store.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>group</td>
<td>Number</td>
<td>Numeric ID group in which the store is assigned</td>
</tr>
<tr>
<td>salesCatId</td>
<td>Number</td>
<td>Numeric ID for the sales category associated with the location within the restaurant</td>
</tr>
<tr>
<td>salesCatName</td>
<td>String</td>
<td>Name for the sales category associated with the item sold within the restaurant. <br> i.e. Liquor, Beer, etc..</td>
</tr>
<tr>
<td>isGroupLevel</td>
<td>Boolean</td>
<td>Indicates if the sales category is assigned at the group level. <br> i.e. Liquor ID 2 used across all locations</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setSalesCat?group=1&amp;salesCatId=1&amp;salesCatName=1&amp;isGroupLevel=true&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong> </p>
</blockquote>
<pre class="highlight plaintext"><code>[
  {
    "concept": 1,
    "group": 1,
    "isGroupLevel": true,
    "store": 13,
    "salesCatId": 9,
    "salesCatName": "Liquor"
  }
]

</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>group</td>
<td>Number</td>
<td>Numeric ID group in which the store is assigned</td>
</tr>
<tr>
<td>salesCatId</td>
<td>Number</td>
<td>Numeric ID for the sales category associated with the location within the restaurant</td>
</tr>
<tr>
<td>salesCatName</td>
<td>String</td>
<td>Name for the sales category associated with the item sold within the restaurant. <br> i.e. Liquor, Beer, etc..</td>
</tr>
<tr>
<td>isGroupLevel</td>
<td>Boolean</td>
<td>Indicates if the sales category is assigned at the group level. <br> i.e. Liquor ID 2 used across all locations</td>
</tr>
</tbody></table>

<h4 id="setsalesitemsv4">setSalesItemsV4</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, a <strong>start</strong> and <strong>end date</strong> and an <strong>array of WSSalesItem objects</strong>. Using the authentication from the username token and the concept and store IDs, the server will resolve which HotSchedules client this sync is for. The array contains sales items for a range of dates, corresponding to the start and end dates. The server-side logic can handle overlapping data (i.e. if you sync 7 days worth of sales, every day, 6 days of it will be &ldquo;overlapping&rdquo; data) and will insert and update data as needed. If the sales items are already in the HS database and do not need to be updated, then nothing will change. The method returns a WSReturn object.
This method uses hsSimpleDate objects for dates.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>Day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>Month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>Year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setSalesItemsV4?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>[
    "concept": 1,
    "storeNum": 1,
    "sales": {
      "catName": "Beer",
      "clientId": 3,
      "empId": 123,
        "extId": 333,
        "rvc": "Revenue",
        "rvcName": "Bar",
        "salesCat": "Beer",
        "storeNum": 3,
        "ttl": 0,
        "businessDate": {
          "day": 1,
          "month": 7,
          "year": 2016
        },
        "transDate": {
          "day": 1,
          "month": 7,
          "year": 2015
        },
        "transTime": {
          "amPm": "am",
          "hours": 1,
          "militaryTime": true,
          "minutes": 15,
          "seconds": 0
        }
    },
      "start": {
        "day": 1,
        "month": 7,
        "year": 2016
      },
      "end": {
        "day": 1,
        "month": 8,
        "year": 2016
      }
]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept</td>
</tr>
<tr>
<td>catName</td>
<td>String</td>
<td>Category name</td>
</tr>
<tr>
<td>clientId</td>
<td>Number</td>
<td>Unique identifier for client provided via HotSchedules</td>
</tr>
<tr>
<td>empId</td>
<td>Number</td>
<td>Employee ID</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>External ID</td>
</tr>
<tr>
<td>rvc</td>
<td>String</td>
<td>Revenue Center</td>
</tr>
<tr>
<td>rvcName</td>
<td>String</td>
<td>Name for the revenue center associated with the location within the restaurant</td>
</tr>
<tr>
<td>salesCat</td>
<td>String</td>
<td>Sales category</td>
</tr>
<tr>
<td>ttl</td>
<td>String</td>
<td>Total sales for the sales category</td>
</tr>
<tr>
<td>businessDate</td>
<td>Object</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>transDate</td>
<td>Object</td>
<td>Transaction date</td>
</tr>
<tr>
<td>transTime</td>
<td>Object</td>
<td>Transaction time</td>
</tr>
<tr>
<td>start</td>
<td>Object</td>
<td>Start date for the range of data requested</td>
</tr>
<tr>
<td>end</td>
<td>Object</td>
<td>End date for the range of data requested</td>
</tr>
</tbody></table>

<h4 id="settimecardsdeclaredtips">setTimeCardsDeclaredTips</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, a <strong>start</strong> and <strong>end date</strong> and an <strong>array of WSTimeCardsDeclaredTips</strong> objects. Using the authentication from the username token and the concept and store IDs, the server will resolve which HotSchedules client this sync is for. The array contains time cards for a range of dates, corresponding to the start and end dates. The server-side logic can handle overlapping data (i.e. if you sync 7 days worth of time cards, every day, 6 days of it will be &ldquo;overlapping&rdquo; data) and will insert and update data as needed. If the time cards are already in the HS database and do not need to be updated, then nothing will change. This method returns a WSReturn object.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
<tr>
<td>Day</td>
<td>Number</td>
<td>Day formatted dd</td>
</tr>
<tr>
<td>Month</td>
<td>Number</td>
<td>Month formatted mm</td>
</tr>
<tr>
<td>Year</td>
<td>Number</td>
<td>Year formated yyyy</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setTimeCardsDeclaredTips?start_day=30&amp;start_month=4&amp;start_year=2016&amp;end_day=5&amp;end_month=5&amp;end_year=2016&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "breakMinutes": 0,
      "empPosId": 4067,
      "extId": -2031248,
      "hsId": 929931332583,
      "jobExtId": 18,
      "jobId": -1,
      "jobName": "Bartender",
      "ovtHrs": 0,
      "ovtMins": 0,
      "ovtTtl": 0,
      "ovtWage": 6.75,
      "regHrs": 5.1,
      "regTtl": 22.95,
      "regWage": 4.5,
      "spcHrs": 0,
      "spcTtl": 0,
      "storeNum": 2,
      "businessDate": {
      "day": 30,
      "month": 4,
      "year": 2016
      },
      "clockIn": "2016-04-30T09:29:00-05:00",
      "clockOut": "2016-04-30T14:35:00-05:00",
      "declaredTips": 0
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>jobName</td>
<td>String</td>
<td>POS job code name</td>
</tr>
<tr>
<td>ovtTtl</td>
<td>Number</td>
<td>Optional-Overtime total pay amount</td>
</tr>
<tr>
<td>ovtHrs</td>
<td>Number</td>
<td>Optional-Overtime hours in shift</td>
</tr>
<tr>
<td>clockOut</td>
<td>String</td>
<td>Clock out timestamp for the shift</td>
</tr>
<tr>
<td>regWage</td>
<td>Number</td>
<td>Regular hourly pay rate</td>
</tr>
<tr>
<td>clockIn</td>
<td>String</td>
<td>Clock in timestamp for the shift</td>
</tr>
<tr>
<td>ovtWage</td>
<td>Number</td>
<td>Optional-Overtime hourly pay rate</td>
</tr>
<tr>
<td>breakMinutes</td>
<td>Number</td>
<td>Number of non-paid break minutes in shift</td>
</tr>
<tr>
<td>jobId</td>
<td>Number</td>
<td>POS numeric identifier for the job</td>
</tr>
<tr>
<td>jobExtId</td>
<td>Number</td>
<td>POS numeric Job Code ID</td>
</tr>
<tr>
<td>businessDate</td>
<td>Array</td>
<td>Business Date information, Day, Months and Year</td>
</tr>
<tr>
<td>regHrs</td>
<td>Number</td>
<td>Regular hours represented in shift</td>
</tr>
<tr>
<td>spcTtl</td>
<td>Number</td>
<td>Optional-Special Pay total pay amount</td>
</tr>
<tr>
<td>hsId</td>
<td>Number</td>
<td>Optional-Internal HotSchedules employee Account ID. Not required, will be set by the service.</td>
</tr>
<tr>
<td>spcHrs</td>
<td>Number</td>
<td>Optional-Special Pay Hours</td>
</tr>
<tr>
<td>ovtMins</td>
<td>Number</td>
<td>Optional-Overtime minutes in shift</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Unique numeric store identifier.  Generally set up to mirror the client internal store ID.</td>
</tr>
<tr>
<td>empPosId</td>
<td>Number</td>
<td>POS numeric Employee ID</td>
</tr>
<tr>
<td>regTtl</td>
<td>Number</td>
<td>Regular total pay amount</td>
</tr>
<tr>
<td>extId</td>
<td>Number</td>
<td>Optional-Unique transaction ID for the time card record</td>
</tr>
<tr>
<td>declaredTips</td>
<td>Number</td>
<td>Tip amount</td>
</tr>
</tbody></table>

<h4 id="setvolumecountsv2">setVolumeCountsV2</h4>

<p>This method takes in a <strong>concept ID</strong>, <strong>store ID</strong>, <strong>business date</strong>, <strong>date time</strong>, <strong>volume amount</strong>, <strong>volume type</strong>, and a <strong>revenue center</strong> for the purpose of submitting actual volume drivers to HotSchedules from a third party system or point of sale. Using the authentication from the username token and the concept and store IDs, the server will resolve which HotSchedules client this sync is for. The array contains volume driver counts for a range of dates, corresponding to the start and end dates. The server-side logic can handle overlapping data (i.e. if you sync 7 days worth of time cards, every day, 6 days of it will be &ldquo;overlapping&rdquo; data) and will insert and update data as needed. If the guest are already in the HS database and do not need to be updated, then nothing will change. This method returns a WSReturn object.</p>

<table><thead>
<tr>
<th>Query parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>concept</td>
<td>Number</td>
<td>The identifier for the location&rsquo;s concept. Must be unique within the company, contact HotSchedules if you&rsquo;re not sure about this value.</td>
</tr>
<tr>
<td>storeNum</td>
<td>Number</td>
<td>Numeric (integer) identifier for the store. Must be unique within the concept.</td>
</tr>
</tbody></table>

<p><code class="prettyprint">curl -X PUT -H &quot;Content-Type:application/json&quot; -u &lt;username&gt;:&lt;password&gt; &quot;https://api.hotschedules.io/&lt;namespace&gt;/controllers/vertx/hotschedules/&lt;concept&gt;/&lt;storeNum&gt;/setVolumeCountsV2&quot; -d &quot;[{json_object_1}, {json_object_2}, {json_object_3}...]&quot;</code></p>

<blockquote>
<p><strong>Sample JSON object</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>  [
    {
      "businessDate": "2014-10-05T00:00:00",
      "dateTime": "2014-10-05T06:41:00-05:00",
      "rvcExtId": 4,
      "volumeAmount": 1,
      "volumeType": "GUESTS"
    }
  ]
</code></pre>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>businessDate</td>
<td>String</td>
<td>Business date of transaction</td>
</tr>
<tr>
<td>dateTime</td>
<td>String</td>
<td>Date time of transaction</td>
</tr>
<tr>
<td>rvcExtId</td>
<td>Number</td>
<td>Represents the numeric revenue center ID associated with the guest</td>
</tr>
<tr>
<td>volumeAmount</td>
<td>Number</td>
<td>Value of the volume count for the transaction</td>
</tr>
<tr>
<td>volumeType</td>
<td>String</td>
<td>Classification of driver requested. Allowed types would be all of the classifications supported from API, HSC, or FTP integration.  “Guests”, “Tables”, “Entrees”, “Deliveries”, &ldquo;Transactions&rdquo; and “Products”.</td>
</tr>
</tbody></table>

          <h1 id="agent-integration">Agent Integration</h1>

<h2 id="overview">Overview</h2>

<p>The Agent provides a single integration point that enables in-store and near-store data collection.</p>

<p>The Platform provides real time bi-directional connections between the cloud and POS via
existing Macromatix Livelink and HotSchedules Connect integrations, as well as an
an in-store appliance and software agent.</p>

<p><strong>The IoT Platform is built on open standards and integrates with:</strong></p>

<ul>
<li>In-store data sources, such as POS systems, equipment, scheduling systems (e.g. HotSchedules) and sensors (e.g., thermometers, energy meters, batteries, HVAC)<br></li>
<li>Near-store apps (e.g. Yelp, weather data, traffic data, Facebook)<br></li>
<li>Above-store apps such as inventory management, ordering systems (e.g.Macromatix), accounting) and other internet connected services<br></li>
</ul>

          <h2 id="getting-started">Getting Started</h2>

<p>The HotSchedules IoT Platform Agent provides a single integration point that enables in-store and near-store data collection. The Agent allows you to integrate with in store data, above store data and near store data. </p>

<p><img title="Agent Diagram" alt="alt text" src="images/agentdiagram.png?raw=true" /></p>

          <h2 id="environment-setup">Environment Setup</h2>

<h3 id="installation">Installation</h3>

<p>The agent cli is installed via a platform specific installer or via node package manager (NPM). The cli prefers to be installed globally.</p>
<pre class="highlight plaintext"><code>$&gt; npm install -g agent-cli
</code></pre>

<h3 id="general-usage">General Usage</h3>

<p>The general structure of the a command is as follows:</p>
<pre class="highlight plaintext"><code>$&gt; npm install agent-cli [options] &lt;action&gt; [arguments]
</code></pre>

<h3 id="options">Options</h3>

<p>Options are prefixed with <code class="prettyprint">-</code> or <code class="prettyprint">--</code> to separate them from arguments. Each action defines the options it uses, but the options are consistent in naming and usage across the commands.</p>

<h3 id="common-options">Common Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;help</td>
<td>none</td>
<td>none</td>
<td>print help about the command</td>
</tr>
<tr>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
<td>print more detailed output</td>
</tr>
<tr>
<td>&ndash;quiet</td>
<td>-q</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
<tr>
<td>&ndash;home</td>
<td>-h</td>
<td>path</td>
<td>specifies the agent&rsquo;s working directory</td>
</tr>
<tr>
<td>&ndash;force</td>
<td>-F</td>
<td>none</td>
<td>directive to override safety logic</td>
</tr>
</tbody></table>

<h3 id="arguments">Arguments</h3>

<p>The cli interprets the first argument (non-option) as the action. All subseuqent arguements are command specific. </p>

<p>Each action is described below:</p>

<h3 id="informational-commands">Informational Commands</h3>

<h3 id="help">help</h3>

<p>The command line provides built in helper functions.</p>

<h3 id="navigation-help">Navigation Help</h3>

<p>For a descriptive list of the commands </p>
<pre class="highlight plaintext"><code>$&gt; npm install agent-cli --help
</code></pre>

<h3 id="action-specific-help">Action Specific Help</h3>

<p>Action specific help can be requested using the following structure.</p>
<pre class="highlight plaintext"><code>$&gt; npm install agent-cli &lt;action&gt; --help
</code></pre>

<h3 id="version">version</h3>

<p>Print version information.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli --version 
$&gt; agent-cli -V
</code></pre>

<p>The output is a simple version identifier following the semantic versioning rules of major, minor, and build.</p>
<pre class="highlight plaintext"><code>vM.m.b
</code></pre>

<h3 id="info">info</h3>

<p>CLI splash screen for the agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli info
</code></pre>

<h3 id="lifecycle-commands">Lifecycle Commands</h3>

<p>Lifecycle commands allow an administrator to change and check the run state of an agent.</p>

<h3 id="start">start</h3>

<p>Attempts to start an agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli start [options] 
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
<td>print more detailed output</td>
</tr>
<tr>
<td>&ndash;quiet</td>
<td>-q</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
<tr>
<td>&ndash;home</td>
<td>-h</td>
<td>path</td>
<td>specifies the agent&rsquo;s working directory</td>
</tr>
</tbody></table>

<h3 id="status">status</h3>

<p>Provides status about a running agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli status [options] 
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
<td>print more detailed output</td>
</tr>
<tr>
<td>&ndash;quiet</td>
<td>-q</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<h3 id="stop">stop</h3>

<p>Gracefully shutdown the agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli stop [options] 
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;verbose</td>
<td>-v</td>
<td>none</td>
<td>print more detailed output</td>
</tr>
<tr>
<td>&ndash;quiet</td>
<td>-q</td>
<td>none</td>
<td>print essential output</td>
</tr>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<h3 id="diagnostic-commands">Diagnostic Commands</h3>

<p>Diagnostic commands are used by an admin to troubleshoot an agent having trouble entering a running state or to test environmental specific details uniformly across platforms.</p>

<h3 id="check-core">check-core</h3>

<p>Used to check the version of agent-core being used and where that file is located on the file system.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli check-core [options]
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<h3 id="check-config">check-config</h3>

<p>Used to check for configuration problems in the agent. The agent will load and process all configuration files, but will not enter into a ready state. This command is safe to run even if there is a currently running agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli check-cofig [options]
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<h3 id="check-connection">check-connection</h3>

<p>Used to check for configuration problems in the agent.</p>
<pre class="highlight plaintext"><code>$&gt; agent-cli check-connection [options]
</code></pre>

<h3 id="options">Options</h3>

<table><thead>
<tr>
<th>long</th>
<th>short</th>
<th>arg</th>
<th>deacription</th>
</tr>
</thead><tbody>
<tr>
<td>&ndash;config</td>
<td>-f</td>
<td>path</td>
<td>specifies the agent&rsquo;s configuration file</td>
</tr>
</tbody></table>

<p>The provided URL will go through the following checks:</p>

<ol>
<li>Check the URL format</li>
<li>Check the DNS resolution from the agent&rsquo;s host</li>
<li>Check the TCP port is reachable by opening up a connection on host:port</li>
<li>Issue a HTTP GET against the ping endpoint of the system</li>
</ol>

<h3 id="check-route">check-route</h3>

<p>Used to check for network problems (firewalls &amp; proxy rules) from the perspective of the agent runtime. </p>
<pre class="highlight plaintext"><code>$&gt; agent-cli check-route &lt;scheme://host:port/path&gt;
</code></pre>

<p>The provided URL will go through the following checks:</p>

<ol>
<li>Parse</li>
<li>DNS resolve of host/IP</li>
<li>TCP port reachable by opening up a connection on host:port</li>
<li>If scheme is http of https then issue a HTTP GET against the specified URL</li>
</ol>

          <h2 id="installing-bodhi-agent">Installing Bodhi Agent</h2>

<p><strong>Agent Installer and Registration User Guide</strong></p>

<p>Welcome to the User Guide for Installing and registering the Bodhi agent</p>

<p><strong>System Requirements for computer</strong>
OS: Windows XP SP3, Windows 7, Windows 8.1<br>
Memory: 2GB or more<br>
Disk Space: 10 GB  </p>

<p><strong>System requirements for Mobile</strong>
iOS 7.x, 8.x<br>
Android 4.x<br>
Windows Phone</p>

<h5 id="step-1:-download-bodhi-installer-and-the-bodhi-mobile-application">Step 1: Download Bodhi Installer and the Bodhi Mobile Application</h5>

<p>Go <a href="http://developer.hotschedules.io">developer.hotschedules.io</a> to get the correct installer for your system</p>

<p><img alt="alt text" src="images/agent_dl_01.png?raw=true" /></p>

<p><strong>NOTE:</strong> if the system you are using to download the installer is not a Windows system you will get the Not Supported.</p>

<p>Just select the Windows system that matches the system you will be installer the Bodhi Agent on.</p>

<p>For the mobile applications here is where you can download them to your device.</p>

<p>Bodhi Mobile - iOS          Apple Apps Store<br>
Bodhi Mobile - Android      Google Play Store</p>

<h5 id="step-2:-run-the-installer">Step 2:  Run the installer</h5>

<ul>
<li>You will be presented with the Installer Welcome screen.<br></li>
<li>This will show the version number of the installer</li>
</ul>

<p><img alt="alt text" src="images/agent_ver_01.png?raw=true" />  </p>

<h5 id="step-3:-select-the-next-button-to-move-to-the-next-button">Step 3: Select the Next button to move to the next Button</h5>

<p><img alt="alt text" src="images/agent_inst_01.png?raw=true" />  </p>

<h5 id="step-4:-license-agreement-screen">Step 4:  License agreement screen</h5>

<ul>
<li>The user needs to agree to the user agreement before proceeding.</li>
</ul>

<p><img alt="alt text" src="images/agent_legal_01.png?raw=true" />  </p>

<p><strong>NOTE:</strong> the Next Button will be greyed out, until the, I accept the agreement radio button is selected.</p>

<h5 id="step-5:-select-the-i-accept-the-agreement-radio-button">Step 5:  Select the I accept the agreement Radio Button</h5>

<p><img alt="alt text" src="images/agent_legal_02.png?raw=true" />  </p>

<h5 id="step-6:-select-the-next-button">Step 6: Select the Next Button</h5>

<p><img alt="alt text" src="images/agent_legal_03.png?raw=true" />  </p>

<h5 id="step-7:-selecting-the-destination-location-for-the-agent">Step 7:  Selecting the Destination location for the Agent</h5>

<ul>
<li>A default destination location is already provided for the agent. </li>
</ul>

<p><img alt="alt text" src="images/agent_dest_01.png?raw=true" />  </p>

<p><strong>NOTE:</strong> If this destination location is OK, then select the Next Button.  </p>

<p><img alt="alt text" src="images/agent_dest_02.png?raw=true" />  </p>

<p><strong>Go to Step 8</strong></p>

<h6 id="step-7a:-if-you-wish-to-change-the-location-of-the-destination-location">Step 7a: If you wish to change the location of the destination location</h6>

<h6 id="7a.-select-the-browse-button">7a. Select the Browse Button</h6>

<p><img alt="alt text" src="images/agent_dest_03.png?raw=true" /></p>

<h6 id="7b.-select-the-folder-you-wish-to-install-the-bodhi-agent-into-or-you-can-open-a-different-folder.">7b. Select the folder you wish to install the Bodhi Agent into or you can open a different folder.</h6>

<p><img alt="alt text" src="images/agent_dest_04.jpg?raw=true" />  </p>

<h6 id="7c.-after-you-have-selected-the-folder">7c. After you have selected the folder</h6>

<p><img alt="alt text" src="images/agent_dest_05.jpg?raw=true" /></p>

<h6 id="7d.-select-the-ok-button">7d. Select the OK Button</h6>

<p><img alt="alt text" src="images/agent_dest_06.jpg?raw=true" />  </p>

<p>The New destination location should be displayed  </p>

<p><img alt="alt text" src="images/agent_dest_01.png?raw=true" /> </p>

<h6 id="7e.-select-the-next-button-to-continue">7e. Select the Next Button to continue</h6>

<p><img alt="alt text" src="images/agent_dest_02.png?raw=true" />  </p>

<h5 id="step-8:-review-of-destination-location.">Step 8: Review of Destination location.</h5>

<ul>
<li>The destination location for the install is displayed.</li>
</ul>

<p><img alt="alt text" src="images/agent_install_01.png?raw=true" /> </p>

<h5 id="step-9:-select-the-install-button">Step 9: Select the Install Button</h5>

<ul>
<li>If the Destination location is correct, then </li>
<li>Select the Install Button</li>
</ul>

<p><img alt="alt text" src="images/agent_install_02.png?raw=true" /> </p>

<h5 id="9a.-a-progress-bar-will-be-displayed">9a. A Progress bar will be displayed</h5>

<p><img alt="alt text" src="images/agent_install_03.png?raw=true" />  </p>

<h5 id="step-10:-installing-nodejs-page">Step 10: Installing Nodejs page</h5>

<ul>
<li>After the Setup Wizard has completed installing the agent and it parts, the installer for NodeJS is started.</li>
</ul>

<p><img alt="alt text" src="images/node_splash_1.png?raw=true" /></p>

<h5 id="step-11:-selecting-the-next-button">Step 11: Selecting the Next Button</h5>

<ul>
<li>Select the Next button to continue the install of Nodejs.</li>
</ul>

<p><img alt="alt text" src="images/node_splash_2.png?raw=true" />  </p>

<h5 id="step-12:-license-agreement-screen">Step 12:  License agreement screen</h5>

<ul>
<li>The user needs to agree to the user agreement before proceeding </li>
</ul>

<p><img alt="alt text" src="images/node_license_1.png?raw=true" />  </p>

<p><strong>NOTE:</strong> the Next Button will be greyed out, until the, I accept the agreement checkbox is selected.</p>

<h5 id="step-13:-select-the-i-accept-the-agreement-radio-button">Step 13:  Select the I accept the agreement Radio Button</h5>

<p><img alt="alt text" src="images/node_license_2.png?raw=true" />  </p>

<h5 id="step-14:-select-the-next-button">Step 14: Select the Next Button</h5>

<p><img alt="alt text" src="images/node_license_3.png?raw=true" />  </p>

<h5 id="step-15:-selecting-the-destination-location-for-nodejs">Step 15: Selecting the Destination location for Nodejs</h5>

<ul>
<li>A default destination location is already provided for Nodejs. </li>
</ul>

<p><img alt="alt text" src="images/node_dest_1.png?raw=true" />  </p>

<p><strong>NOTE:</strong> If this destination location is OK, then select the Next Button.  </p>

<p><img alt="alt text" src="images/node_dest_3.png?raw=true" /></p>

<p><strong>Go to Step 16</strong></p>

<h6 id="step-15a:-if-you-wish-to-change-the-location-of-the-destination-location,-select-the-change-button">Step 15a: If you wish to change the location of the destination location, Select the change Button</h6>

<p><img alt="alt text" src="images/node_dest_2.png?raw=true" />  </p>

<h6 id="step-15b.-select-the-folder-you-wish-to-install-nodejs-into-or-you-can-open-a-different-folder">Step 15b. Select the folder you wish to install nodejs into or you can open a different folder</h6>

<p><img alt="alt text" src="images/node_dest_4.png?raw=true" /></p>

<h6 id="step-15c.-after-you-have-selected-the-new-folder">Step 15c. After you have selected the new folder</h6>

<p><img alt="alt text" src="images/node_dest_5.png?raw=true" /></p>

<h6 id="step-15d.-after-you-have-selected-the-folder-in-the-new-selected-folder">Step 15d. After you have selected the folder in the new selected folder</h6>

<p><img alt="alt text" src="images/node_change_dest_folder_1.png?raw=true" /></p>

<h6 id="step-15e.-select-the-ok-button">Step 15e. Select the OK Button</h6>

<p><img alt="alt text" src="images/node_change_3.png?raw=true" /></p>

<h6 id="step-15f.-review-the-destination-location">Step 15f. Review the Destination location</h6>

<p><img alt="alt text" src="images/node_dest_1.png?raw=true" /> </p>

<h5 id="step-16:-review-of-the-custom-setup.">Step 16: Review of the Custom Setup.</h5>

<ul>
<li>The Custom Setup page for the install is displayed.</li>
</ul>

<p><img alt="alt text" src="images/nodejs_custom_1.png?raw=true" /> </p>

<h5 id="step-17:-select-the-install-button">Step 17: Select the Install Button</h5>

<ul>
<li>If all the information is correct, then </li>
<li>Select the Install Button</li>
</ul>

<p><img alt="alt text" src="images/nodejs_install_1.png?raw=true" /> </p>

<h6 id="15h.-a-progress-bar-will-be-displayed">15h. A Progress bar will be displayed</h6>

<p><img alt="alt text" src="images/nodejs_progress_1.png?raw=true" />  </p>

<h5 id="step-16:-completing-the-hotschedules-link-setup-wizard-page">Step 16: Completing the HotSchedules Link Setup Wizard page</h5>

<ul>
<li>After the Setup Wizard has completed, a checkbox is presented, by default it is selected.</li>
</ul>

<p><img alt="alt text" src="images/agent_run_01.png?raw=true" /></p>

<h5 id="10a.-completing-the-hotschedules-link-install">10a. Completing the HotSchedules Link install</h5>

<ul>
<li>If no change is required, then Select the Finish Button<br></li>
</ul>

<p><img title="figure 19" alt="alt text" src="images/agent_finished_01.png?raw=true" /><br>
figure 19  </p>

<h5 id="10b.-command-line-interface-is-opened">10b. Command Line Interface is opened</h5>

<ul>
<li>A Diagnostics is run</li>
<li>The Windows Service is started</li>
<li>Follow the instructions to press any key to continue </li>
</ul>

<p><img title="figure 20" alt="alt text" src="images/agent_any_01.png?raw=true" /><br>
figure 20  </p>

<h5 id="10c.-the-command-line-window-should-close-and-you-will-be-at-the-desktop.">10c.  The command line window should close and you will be at the Desktop.</h5>

<p><img title="figure 21" alt="alt text" src="images/agent_desktop_01.png?raw=true" /><br>
figure 21  </p>

<h5 id="step-1:-register-the-agent-with-a-mobile-device">Step 1: Register the Agent with a Mobile Device</h5>

<ul>
<li>If you had selected to start the console at the end of the install, then the console will be started in the default browser.</li>
</ul>

<p><strong>Note:</strong> If your agent is not registered, it will be unable to send any data to the cloud</p>

<ul>
<li>A Registration Code will be displayed which is used to register the POS with the Mobile Device.</li>
</ul>

<p><img title="figure 22" alt="alt text" src="images/agent_active_01.png?raw=true" /><br>
figure 22  </p>

<p><strong>Note:</strong>  If the registration dialog is dismissed before registration
* Select the Registration Code Menu item on the left to redisplay it</p>

<p><img title="figure 23" alt="alt text" src="images/agent_reg_01.png?raw=true" /><br>
figure 23  </p>

<h5 id="step-2:-start-the-bodhi-mobile-app">Step 2: Start the Bodhi Mobile App</h5>

<ul>
<li>This is the Mobile Application that was downloaded earlier to your Mobile Device</li>
</ul>

<p><img title="figure 23" alt="alt text" src="images/iphone_home_01.png?raw=true" /><br>
figure 24  </p>

<h5 id="step-3:-enter-the-a-mobile-device">Step 3: Enter the a Mobile Device</h5>

<ul>
<li>Enter the UserID </li>
<li>Enter the Password </li>
<li>Select the Log in Button</li>
</ul>

<p><img title="figure 25" alt="alt text" src="images/app_login_01.png?raw=true" /><br>
figure 25  </p>

<h5 id="step-4:-select-the-pos-manager">Step 4: Select the POS Manager</h5>

<p><img title="figure 26" alt="alt text" src="images/pos_mgr_01.png?raw=true" /><br>
figure 26  </p>

<h5 id="step-5:-select-the-the-plus-sign-to-add-a-pos-to-the-manager">Step 5: Select the the Plus Sign to add a POS to the Manager</h5>

<p><img title="figure 27" alt="alt text" src="images/pos_mgr_02.png?raw=true" /><br>
figure 27  </p>

<h5 id="step-6:-select-a-store-to-associate-the-pos-with.">Step 6: Select a store to associate the POS with.</h5>

<p><img title="Flowers" alt="Flowers" src="images/pos_mgr_03.png?raw=true" />
figure 28  </p>

<h5 id="step-7:-enter-the-activation-code-that-is-displayed-in-the-browser.">Step 7: Enter the Activation code that is displayed in the Browser.</h5>

<p><img title="figure 29" alt="alt text" src="images/agent_active_02.png?raw=true" /><br>
figure 29  </p>

<h5 id="step-8:-select-the-request-button.">Step 8: Select the Request Button.</h5>

<p><img title="figure 30" alt="alt text" src="images/agent_active_03.png?raw=true" /><br>
figure 30  </p>

<h5 id="step-9:-verify-that-pos-agent-with-the-selected-store-and-is-displayed">Step 9: Verify that POS agent with the selected store and is displayed</h5>

<p><img title="figure 31" alt="alt text" src="images/agent_active_04.png?raw=true" /><br>
figure 31  </p>

<h5 id="step-20:-the-browser-will-display-the-console-dashboard">Step 20: The Browser will display the console dashboard</h5>

<ul>
<li>A Success message will briefly flash on the screen</li>
<li>The Registration Code Menu item will be removed</li>
<li>The Dashboard will be displayed</li>
</ul>

<p><img title="figure 32" alt="alt text" src="images/agent_console_01.png?raw=true" /><br>
figure 32  </p>

<h3 id="console-dashboard-legend">Console Dashboard Legend</h3>

<ol>
<li>This is the status of the agent (e.g. Online, Offline)<br></li>
<li>This changes the Left Menu from Icon Only to Icons and Text<br></li>
</ol>

<p><strong>Congratulations on your successful installation of Bodhi Agent</strong></p>

          <h2 id="creating-an-agent-application">Creating an Agent Application</h2>

          <h4 id="configuring-agent-application">Configuring Agent Application</h4>

<h3 id="parameters">Parameters</h3>

<p>Mutable environmental variables that can be modified in Agent Manager. Values can overwrite default settings.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>String</td>
<td>Description in Agent manager application</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Expected data type of parameter value</td>
</tr>
<tr>
<td>setting</td>
<td>String</td>
<td>Assigned variable name to this parameter</td>
</tr>
<tr>
<td>required</td>
<td>Boolean</td>
<td>True or False</td>
</tr>
<tr>
<td>default</td>
<td>String</td>
<td>The default value of the parameter if not set</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Parameters example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>parameters : {
        master_id: {
            description : 'System ID of Master Agent',
            setting     : 'master_id',
            type        : 'string',
            required    : true
        },
        role: {
            description : 'Role of Master Agent for Slave to assume',
            type        : 'string',
            setting     : 'role',
            required    : true
        }
}
</code></pre>

<h3 id="extensions">Extensions</h3>

<p>Extensions are injected dependencies that your application can refer to. Your application may use one or more extensions. Extensions can provide potential configuration components or actual runtime components. Extensions are a good way to design resuable components that can be shared and reused across projects. Extensions are loaded in the order in which they are specified.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>module</td>
<td>String</td>
<td>Yes</td>
<td>By default searches node_modules folder. Relative path also accepted.</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Extensions example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>extensions  : [
        { module: './lib/plugin.js' },
        { module: 'agent-ext-timers' }
]
</code></pre>

<h3 id="settings">Settings</h3>

<p>A Setting is an Object that represents static configuration data. Parameters can overwrite a setting if the property matches a parameter key.
These values will take the highest precedence in the processing of settings. The precedence rules are:</p>

<ol>
<li>Agent.json settings object (highest precedence)</li>
<li>Any settings within the js/json files in the settings folder</li>
<li>Any settings added by an extension (lowest precedence)</li>
</ol>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>property</td>
<td>String</td>
<td>Yes</td>
<td>Name of your property</td>
</tr>
<tr>
<td>value</td>
<td>String, Function, Boolean, Number, Object</td>
<td>Yes</td>
<td>The value of your setting</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Settings example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>settings: [
        {
            property: 'master_id',
            value: '588f9fc508a94349cc1ad3b8'
        },
        {
            property: 'role',
            value   : 'pos-monitor'
        }
]
</code></pre>

<h3 id="counters">Counters</h3>

<p>Tracks the number of times specific application events occur and are logged found in the Agent heartbeat. Each counter can subscribe to an array of application events.</p>

<blockquote>
<p><strong>Counters example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code> counters: {
        activations : ['app:monitor'],
        success     : ['app:success'],
        stopped     : ['app:stopped'],
        failed      : ['app:failed' ]
}
</code></pre>

<h3 id="sources">Sources</h3>

<p>An object that sources external events. Sources bind events to listeners and emits application level events. Any counters, handlers and pipelines subscribed to source events are initiated.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Yes</td>
<td>Unique identifier (within the context&rsquo;s handler)</td>
</tr>
<tr>
<td>provider</td>
<td>String or Function</td>
<td>Yes</td>
<td>A function or reference to a plugin that creates an object</td>
</tr>
<tr>
<td>args</td>
<td>Array of Strings, Functions, Objects, Booleans</td>
<td>Optional</td>
<td>A list of dependencies used by the source</td>
</tr>
<tr>
<td>bindings</td>
<td>Object</td>
<td>Optional</td>
<td>A Map that routes external events to internal topics</td>
</tr>
<tr>
<td>factory</td>
<td>String</td>
<td>Optional</td>
<td>An enumeration that describes alternate instantiation behavior for the service constructor, function, literal</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Sources example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>sources: [ 
        {
           name: 'sampleSource',
           provider: 'compris:dir',
           args: ['$settings:rootPath'],
           bindings: { 'created' : 'read' }
        } 
]
</code></pre>

<h3 id="services">Services</h3>

<p>A Service is an Object that represents a concrete extension of the API. Services are singletons.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Yes</td>
<td>Unique identifier (within the context&rsquo;s handler)</td>
</tr>
<tr>
<td>provider</td>
<td>String or Function</td>
<td>Yes</td>
<td>A function or reference to a plugin that creates an object</td>
</tr>
<tr>
<td>args</td>
<td>Array of Strings, Functions, Objects, Booleans</td>
<td>Optional</td>
<td>A list of the dependencies used by the service</td>
</tr>
<tr>
<td>factory</td>
<td>String (Constructor, Function, Literal)</td>
<td>Optional</td>
<td>An enumeration that describes alternate instantiation behavior for the service</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Services example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>services: [
        {
            name: 'cloud',
            provider: 'connection:resources'
        }
]
</code></pre>

<h3 id="handlers">Handlers</h3>

<p>A Handler is a Function that responds to events within an application. </p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Yes</td>
<td>Unique identifier (within the context&rsquo;s handler)</td>
</tr>
<tr>
<td>subscriptions</td>
<td>Array <String></td>
<td>Yes</td>
<td>String of application level events that will initiate this handler</td>
</tr>
<tr>
<td>fn</td>
<td>String or Function</td>
<td>Yes</td>
<td>A function or reference to a plugin will handle the events</td>
</tr>
<tr>
<td>props</td>
<td>Object</td>
<td>Optional</td>
<td>A list of properties available to the instance</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Handlers example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>handlers: [
        {
            name            : 'Monitor Master Agent',
            subscriptions   : ['app:monitor'],
            fn              : '$plugins:handler:monitor',
            props           : {
                master_role : '$setting:role',
                conn        : '$service:cloud',
                master_id   : '$setting:master_id',
                getInfo     : '$plugins:core:info',
                identity    : '$plugins:core:identity',
            }
        },
        {
            name            : 'Update Agent Role',
            subscriptions   : ['app:update'],
            fn              : '$plugins:handler:update',
            props           : {
                conn        : '$service:cloud',
            }
        }
]
</code></pre>

<h3 id="pipelines">Pipelines</h3>

<p>Similar to handlers, pipeline(s) are subscribed to event(s). The difference being that pipelines execute a series of steps rather than just one function. 
Each pipeline step should follow the single responsiblity principle. Each step is given two arguments - input and a callback.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Yes</td>
<td>Unique identifier</td>
</tr>
<tr>
<td>subscriptions</td>
<td>Array</td>
<td>Yes</td>
<td>String of application level events that will initiate this pipeline</td>
</tr>
<tr>
<td>steps</td>
<td>Array</td>
<td>Yes</td>
<td>Takes an array of objects described below</td>
</tr>
<tr>
<td>failed</td>
<td>String</td>
<td>Optional</td>
<td>Emits mapped event based on the state of the pipeline</td>
</tr>
<tr>
<td>success</td>
<td>String</td>
<td>Optional</td>
<td>Emits mapped event based on the state of the pipeline</td>
</tr>
<tr>
<td>done</td>
<td>String</td>
<td>Optional</td>
<td>Emits mapped event based on the state of the pipeline</td>
</tr>
</tbody></table>

<p><strong>Pipeline.steps</strong></p>

<p><em>pipeline</em> | Object <br></p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fn</td>
<td>Functional plugin reference. See pipeline and fn description below</td>
</tr>
<tr>
<td>props</td>
<td>Optional dependencies to be injected in the pipeline function context</td>
</tr>
</tbody></table>

<p><strong>Pipeline.fn(input, callback)</strong> </p>

<p><em>input</em> | Object <br>
Initially an empty object. Later becomes whatever the result of the previous pipeline step is.</p>

<p><em>callback</em> | Function <br>
Needs to be invoked with a possible error arguement and an optional result to be passed in to the next step. 
If an error is passed in, it will stop the pipeline and the failed event will be emitted.</p>

<p>Context of this callback includes core methods described below as well as Pipeline.props injected during configuration.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>logger</td>
<td>Logs viewable in Agent Manager</td>
</tr>
<tr>
<td>publish</td>
<td>EventEmitter that takes in a event and message</td>
</tr>
<tr>
<td>name</td>
<td>Pipeline.name</td>
</tr>
<tr>
<td>event</td>
<td>Name of event that triggered the pipeline</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Pipelines example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>// pipeline breakdown of handlers

    pipelines: [
        {
            name: 'Monitor Master Agent',
            subscriptions: ['app:monitor'],
            steps: [
                { fn: '$plugins:core:identity:addAgentInfo'     },
                { fn: '$plugins:main:checkMasterAgentStatus'    },
                { fn: '$plugins:main:processAgentStatus'        }
            ],
            stopped : 'app:stopped',
            failed  : 'app:failed'
        },
        {
            name: 'Update Status',
            subscriptions: ['app:update'],
            steps: [
                { fn: '$plugins:main:patchAgentRole'    },
                { fn: '$plugins:main:syncAgent'         }
            ],
            stopped : 'app:stopped',
            failed  : 'app:failed'
        }
]
</code></pre>

<h3 id="init">Init</h3>

<p>Init is a function that is given a callback as its only argument.
This callback must be invoked in order to intialize the application. 
The keyword &ldquo;this&rdquo; refers to the application&rsquo;s reactive context</p>

<blockquote>
<p><strong>Init example</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>init: function(done){

        this.publish('app:initialized');

        console.log('###################################');
        console.log('## ' + pkg.name.toUpperCase());
        console.log('## v' + pkg.version);
        console.log('###################################');

        done();
}
</code></pre>

          <h4 id="creating-an-agent-source">Creating an Agent Source</h4>

<p>Returns a function that instantiates an Agent source. See sample code that watches for any directory changes using npm watch.</p>

<blockquote>
<p><strong>Sample Code:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>var fs      = require('fs-extra');
var watch   = require('watch');

module.exports = function dirSrc() {
    var path        = arguments[0];
    var source      = {};
    source.routers  = {};

    var bind = function bindDir(bindings, emitter, done) {
        var logger = this.logger;

        logger.info('Ensuring ', path, 'exists...');

        if (!path) return done('Expected path to exist. Please ensure args array is properly configured.');

        fs.ensureDir(path, function (err) {
            if (err) return done(err);

            logger.info(path, 'ensured.');
            /*
                bindings = { 'created' : 'read' }
                emitter = fn()  { context.emit.apply(context, arguments); }
                done = fn()      { return exit(done, source); }

                YOU HAVE TO CALL DONE OR ELSE THE REST OF THE APP WILL NOT LOAD
                KICK LISTEN OR IT WILL NOT HEAR
            */

            // routes = ['created']
            var routes = Object.keys(bindings);

            /*
                routers = {

                        emitter(event, arguments);
                    }
                }
            */
            routes.forEach(function (event) {
                source.routers[event] = function () {
                    emitter(bindings[event], { path: arguments[0], detail: arguments[1] });
                }
            });

            done();
        });
    };

    /*
        SOURCES GET LOADED BEFORE INIT
            ENSURE DIR BEFORE SETTING MONITORS
    */
    var listen = function listenDir(cb) {
        watch.createMonitor(path, function (monitor) {
            source.monitor = monitor;
            ['created', 'changed', 'removed'].forEach(function (e) {
                if (source.routers[e]) {
                    source.monitor.on(e, function (file, detail) {
                        source.routers[e](file, detail);
                    });
                }
            });
        });
    };

    var close = function closeDir() {
        source.monitor.stop();
    };

    return function (cb) {
        cb(null, { bind: bind, listen: listen, close: close})
    }
};
</code></pre>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bind</td>
<td>Function</td>
<td>Responsible for binding application level events when a source level event occurs</td>
</tr>
<tr>
<td>listen</td>
<td>Function</td>
<td>Creates EventEmitter that emit application level events based on bind</td>
</tr>
<tr>
<td>close</td>
<td>Function</td>
<td>Destroy existing EventEmitter for the source</td>
</tr>
</tbody></table>

          <h4 id="creating-an-agent-extension">Creating an Agent Extension</h4>

<p>Returns an Agent extension object.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>Name of extension used primarily for debugging purposes</td>
</tr>
<tr>
<td>attach</td>
<td>Function</td>
<td>Attach the specified extension to this instance, extending the <code class="prettyprint">ReactiveContext</code> with new functionality with the implicit registerPlugin method</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>Sample Code:</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>module.exports = {
    name        : 'plugin',

    attach      : function (overloads, done) {

        /** LOAD HANDLERS **/
        this.registerPlugin(['handler', 'monitor'   ], require('./handlers/monitor.js'  ));
        this.registerPlugin(['handler', 'update'    ], require('./handlers/update.js'   ));

        done();
    }
};
</code></pre>

          <h4 id="agent-path-resolution">Agent Path Resolution</h4>

<p>Every extension, service and setting can be injected through namespacing </p>

<table><thead>
<tr>
<th>Type</th>
<th>Reference</th>
<th>Sample</th>
</tr>
</thead><tbody>
<tr>
<td>extension</td>
<td>&ldquo;$plugins&rdquo;</td>
<td>&ldquo;$plugins:myFunction&rdquo;</td>
</tr>
<tr>
<td>service</td>
<td>&ldquo;$service&rdquo;</td>
<td>&ldquo;$service:cloud&rdquo;</td>
</tr>
<tr>
<td>setting</td>
<td>&ldquo;$setting&rdquo;</td>
<td>&ldquo;$setting:jobInterval&rdquo;</td>
</tr>
</tbody></table>

          <h1 id="job-engine">Job Engine</h1>

<h2 id="creating-a-job-engine-application">Creating a job engine application</h2>

<p><strong>Introduction</strong> <br>
Bodhi Job Engine is a job scheduler running on node.js and MongoDB. The engine is designed to run scheduled cloud-to-cloud data transactions, e.g. requesting data from web APIs, pushing data to the Bodhi cloud, etc.</p>

          <p><strong>Work Functions</strong> <br>
Jobs must be built in a specific format in order for Bodhi Job Engine to recognize and run them properly. The job should contain an <strong>index.js</strong> file that follows this structure:</p>

<blockquote>
<p><strong>index.js</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>module.exports = function work(context, done){
    //the work of your job
    done(errThatOccurred, messageToReport, stateToSave);
};

</code></pre>

<p><strong>Context Object</strong> <br></p>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>connection</td>
<td>bodhi-js-client</td>
<td><a href="https://www.npmjs.com/package/bodhi-driver-superagent">https://www.npmjs.com/package/bodhi-driver-superagent</a></td>
</tr>
<tr>
<td>settings</td>
<td>Object</td>
<td>immutable configuration options associated with this job</td>
</tr>
<tr>
<td>state</td>
<td>Object</td>
<td>mutable persistent state from previous runs</td>
</tr>
<tr>
<td>meta</td>
<td>Object</td>
<td>immutable metadata about the job</td>
</tr>
</tbody></table>

<blockquote>
<p><strong>meta</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">

</span><span class="p">}</span><span class="w">

</span></code></pre>

<p><strong>Job Metadata</strong> <br></p>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>name of the job</td>
</tr>
<tr>
<td>package</td>
<td>String</td>
<td>package name</td>
</tr>
<tr>
<td>version</td>
<td>String</td>
<td>semantic package version</td>
</tr>
<tr>
<td>namespace</td>
<td>String</td>
<td>namespace of the job</td>
</tr>
<tr>
<td>lastRun</td>
<td>Data</td>
<td>last time the job ran</td>
</tr>
</tbody></table>

<p><strong>Callback</strong> <br>
A job must be completed by calling the callback</p>

<table><thead>
<tr>
<th>arg</th>
<th>type</th>
<th>required</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>err</td>
<td>Error</td>
<td>optional</td>
<td>if err != null then the job did not process properly</td>
</tr>
<tr>
<td>message</td>
<td>String</td>
<td>optional</td>
<td>a string to be recorded in the message</td>
</tr>
<tr>
<td>state</td>
<td>Object</td>
<td>optional</td>
<td>the state to persist for the next run</td>
</tr>
</tbody></table>

<p><strong>Example Job: Hello World</strong></p>

<blockquote>
<p><strong>This is a very basic Hello World job.</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>module.exports = function(options, done){
  console.log('HELLO WORLD!');

  if(err){
    done(err);
  }
  else{
    done();
  }
};
</code></pre>

<p><strong>Example Job: Get and Use Some Data</strong></p>

<blockquote>
<p><strong>Get and use data</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>module.exports = function(options, done){

  var client = options.connection;
  var data   = options.state;
  data.storestuff = [];

  client.get(['resources', 'Store'].join('/'), function(err, data, ctx){
    if(err){
      done(err);
    }
    else{
      data.forEach(function(store){
        data.storestuff.push(store.store_name + ' is an awesome store!');
      });
    }
  });

  var json = {

    "data1": "some data you need to post",
    "data2": "also data you need to post"
  };

  client.post(['resources', 'aCustomType'].join('/'), json, function(err, data, ctx){

    if(err){
      done(err);
    }
    else{
      console.log('Server says: ', ctx);
      done();
    }
  });
};

</code></pre>

<p>This is a less basic example job that uses HTTP requests and stores data in the &ldquo;state&rdquo; property of the options object. Data stored in the state property persists between jobs and is available in the next execution of the job.</p>

          <h1 id="publishing-applications">Publishing Applications</h1>

<h2 id="overview">Overview</h2>

<p>To publish application for the IoT Platform, you need to follow a few simple steps to describe your application.  </p>

          <h2 id="configuring-package.json">Configuring package.json</h2>

<p>To publish your application, add the following directory structure for your application:</p>
<pre class="highlight plaintext"><code>    /&lt;app-name&gt;/
            /public/
</code></pre>

<ul>
<li>Folder (npm app-name)

<ul>
<li>index.js</li>
<li>LICENSE (standard apache license file)</li>
<li>package.json (example provided below) </li>
<li>public (folder) 

<ul>
<li>app_icon.png</li>
<li>NewType1.json file (optional)</li>
<li>NewType2.json file (optional)</li>
<li>NewType3.json file (optional)</li>
</ul></li>
</ul></li>
</ul>

<p>To publish an app into the IoT Platform you have to zip up the following: <br>
index.js  <br>
LICENSE <br>
package.json</p>
<pre class="highlight plaintext"><code>    folder=&lt;public&gt;
      app_icon.png
      NewType1.json file (optional)
      NewType2.json file (optional)
      NewType3.json file (optional)
      ...
</code></pre>

<h3 id="example-package.json-for-mobile-applications">Example package.json for Mobile Applications</h3>

<p>By Clicking on HS Template you get a package.zip file that is downloaded to your desktop that contains the following:</p>

<ul>
<li><p><strong>index.html</strong></p>

<p>If you open this file it say Click Me and a Welcome will appear above Click Me</p></li>
<li><p><strong>LICENSE</strong>
This is the apache2 license file that needs to be with all applications you plan to build</p></li>
<li><p><strong>README.md</strong></p>

<p>README.md are directions to get started developing your mobile application</p></li>
<li><p><strong>image_home.png</strong>
Image_home.png is the background image for index.html</p></li>
<li><p><strong>package.json</strong>:</p>

<p>This is the example package.json that you will cutomize based on your application needs.  To the right is a formatted version of the sample package.json that is included in HS Template&rsquo;s zip file.</p></li>
</ul>
<pre class="highlight plaintext"><code>package.json that gets includes with HS Template's zip file:

{
    "name": "HSappTemplate",
    "version": "0.0.0",
    "title": "HSappTemplate",
    "description": "New application Hello, World!",
    "profile": {
        "name": "HSappTemplate",
        "dml": {
            "BodhiApplication": {
                "select": {}
            }
        }
    },
    "settings": {
        "publisher": "",
        "categories": [""],
        "offline": false,
        "navigationBar": "auto",
        "location": "S3",
        "storage": "s3",
        "type":"mobile"
    },
    "dependencies": {
        "bodhi-mobile":"*" 
        },
    "autoUpdateVersion": true
}

</code></pre>

<h3 id="example-of-package.json-for-agent-or-job-applications">Example of Package.json for agent or job Applications</h3>
<pre class="highlight plaintext"><code>Example of package.json for agent or job applications:
#!javascript

{
  "name": "app-package-name",
  "version": "0.0.1",
  "title": "Application Title",
  "description": "Short Application Description.",
  "profile": {
    "name": "app-package-name",
    "dml": {
      “BodhiApplication": {
       "select": {},
       "update":{},
       "delete":{},
       "insert":{}
      },
      "NewType1": {
        "select": {}
      },
      "NewType2": {
        "select": {}
      }
    }
  },
  "settings": {
    "categories": [
      "Aloha",
      "POS"
    ],
    "publisher": "your company",
    "npm_package_name": "app-package-name",


if you have any related apps you want to install together::
"related-apps": [
      "bodhi.aloha-app-transactions",
      "bodhi.aloha-app-store"
    ],
    "public_path": "public",
    "global_store_icon": "public/icon.png",
   "location": "S3",
   "storage": "s3",
   "type": "agent",    
(type can be “job”, “agent”, “mobile”, “web” )   
 "new_type_required": true,
  "install": {
"new": {
"model": [
{
"type": "enumeration",
"name": "TypeName",
"object": "Enumerations/TypeName.json"
},
{
"type": "embedded_type",
"name": "InventoryPurchaseOrder",
"object": "Types/InventoryPurchaseOrder.json"
},
{ "type": "custom_type",
"name": "TypeName2",
"object": "Types/TypeName2.json"
}
],
"post-type-install": [
{"action": "POST",
"object": "Data/DataFile.json",
"path": "/resources/DataFile"
}
]
if you have any parameters required to be used with the app we add this section:: 
 "agent_parameters": {
      "interval": {
        "description": "How often to execute a grind",
        "required": true,
        "type": "string",
        "default": "every 15 minutes",
        "position": 1
      }
    }
  },
  "autoUpdateVersion": false
}

</code></pre>

<h3 id="description-of-package.json-contents">Description of package.json contents</h3>

<p><strong>name=&ldquo;HSappTemplate&rdquo; <em>required</em></strong></p>

<p>The name of your application must match the name of the profile</p>

<p><strong>&ldquo;version&rdquo;: &ldquo;0.0.1&rdquo; <em>required</em></strong></p>

<p>Ideally this is the version of your application that gets posted as versions show for Agent Application in the Agent Event Logs so keeping this version the same as your Agent Application that is published is highly recommended.</p>

<p><strong>&ldquo;title&rdquo;: &ldquo;Application Title&rdquo; <em>required</em></strong></p>

<p>This is the title that will show on the HotSchedules Store once you publish your application to the HotSchedules Store.</p>

<p><strong>&ldquo;description&rdquo;: &ldquo;Short Application Description.&rdquo; <em>required</em></strong></p>

<p>The description is the application description that will be displayed with the title for your application when displayed in the HotSchedules Store.  Description will be part of &ldquo;Learn More&rdquo; button. </p>

<p><strong>&ldquo;profile&rdquo;: {} <em>required</em></strong></p>

<p>The profile section contains the following required sections:</p>

<ul>
<li><p><strong>&ldquo;name&rdquo;: &ldquo;HSappTemplate&rdquo; <em>required</em> and must match name above</strong></p>

<p>The profile name must match the application name that is described in the main part of the package.json (see name=&ldquo;app-package-name&rdquo; <em>required</em> above)</p></li>
<li><p><strong>&ldquo;dml&rdquo;: {}</strong></p>

<p>DML=Data Manipulation Language and this section describes what operations you plan to use on the schema or types within your application.  Usually you define the type and what operations you want to allow on the type such as select, update, delete, insert and/or aggregate. How you describe your DML section depends on what types you access and how you access/manipulate them.</p></li>
</ul>

<p><strong>&ldquo;settings&rdquo;:{} <em>required</em></strong></p>

<p>The settings is the main section of package.json contains the following sections:</p>

<ul>
<li><p><strong>&ldquo;categories&rdquo;: [] <em>optional</em></strong></p>

<p>A list of comma separated categories your application would fit into. The categories array allows you to give the HotSchedules Store taxonomical information about how your app relates to other applications. 
Examples include financial, inventory, management</p></li>
<li><p><strong>&ldquo;publisher&rdquo;: &ldquo;your company&rdquo; <em>required</em></strong></p>

<p>This is the name of your company or your name if you are self-represented.</p></li>
<li><p><strong>&ldquo;npm_package_name&rdquo;: &ldquo;app-package-name&rdquo; <em>required if building an Agent App or Job App</em></strong></p></li>
<li><p><strong>&ldquo;related-apps&rdquo;: [] <em>optional</em></strong>
Define the array of related applications as a comma separated based on the application(s)&rsquo; global package name. 
Example: 
    &ldquo;related-apps&rdquo;: [
        &ldquo;bodhi.aloha-app-transactions&rdquo;,
        &ldquo;bodhi.aloha-app-store&rdquo;
        ]</p></li>
<li><p><strong>&ldquo;offline&rdquo;: false <em>Required for mobile application</em></strong> </p>

<p>Offline is for mobile applications and tells the mobile container (HotSchedules Passbook). Offline controls whether the container will cache application information for offline use. If offline=true and the user launches the application, any data that was previously loaded will be available when the device is offline. This will also enable queuing of data to write to the Bodhi Cloud if the app has write permissions.  </p></li>
<li><p><strong>&ldquo;navigationBar&rdquo;: &ldquo;auto&rdquo;</strong></p>

<p>NavigationBar is for mobile applications and tells the mobile container (HotSchedules Passbook) to automatically use the built in navigation bar.</p></li>
<li><p><strong>&ldquo;public_path&rdquo;: &ldquo;public&rdquo; <em>required</em></strong></p>

<p>Public path is the folder that hold any screenshots, icons, and/or type definitions.  The Public Path is a location off of root of your application that allows developers to save items that should be publicly visible and available. The Public Path folder should contain screenshots and Icons that the global app store can use. The global_store_icon as well as the screenshots settings objects should all be relative paths to the public path.   </p></li>
<li><p><strong>&ldquo;global_store_icon&rdquo;: &ldquo;public/icon.png&rdquo; <em>required</em></strong></p>

<p>In the settings section, Global Store Icon is your icon for your application.</p></li>
<li><p><strong>&ldquo;location&rdquo;: &ldquo;S3&rdquo; <em>optional</em></strong></p>

<p>In the settings section, you define where your published app resides (S3 or artifactory).  S3 is the preferred location.  The Agent Apps used to use &ldquo;storage&rdquo;: &ldquo;s3&rdquo;, so that needs to be included in the settings sections as well for agent apps to compatibility.</p></li>
<li><p><strong>&ldquo;type&rdquo;: &ldquo;mobile&rdquo; <em>required</em></strong></p>

<p>In the settings section, you define the type of application (job, agent, mobile or web) you are publishing.  The &ldquo;type&rdquo;=&ldquo;job&rdquo; define your application to run inside job engine through Job Engine Manager.  The &ldquo;type&rdquo;=&ldquo;agent&rdquo; defines your application to run with the agent based on a defined role.  The &ldquo;type&rdquo;=&ldquo;mobile&rdquo; defines your application to run in a mobile container usually HotSchedules Passbook.  The &ldquo;type&rdquo;=&ldquo;web&rdquo; defines your application to run as a web application. </p></li>
<li><p><strong>&ldquo;new_type_required&rdquo;: true <em>optional</em></strong></p>

<p>In the settings section, if you are adding new types as described below, then this flag should be set to true. new_type_required tells the installer of the app in the global app store if the app will run &lsquo;out of the box&rsquo; or if new custom types need to be installed on the namespace. <em>NOTE:: if new_type_required=true, troubleshooting</em>url should be required_</p></li>
<li><p><strong>troubleshooting_url=&#39;http://tools.hotschedules.io/xxxx&rsquo; <em>NOTE:: if new_type_required=true, troubleshooting</em>url should be required_</strong></p>

<p>The troubleshooting_url is the URL where the customer can find additional information about how to install custom types on their namespace to get an app to function correctly. This can also be used to FAQ&rsquo;s or any other outbound troubleshooting you would like to provide to your customers.</p></li>
</ul>

<p><strong>agent_parameters/job_parameters</strong></p>

<p>Depending on your application needs, you may want to have parameters setup for your applications.  Both Agent and Job applications can take parameters.  The agent/job_parameters contain information about any parameters that the agent or job requires to run.  They contain data_dir formatted information containing description, a required flag, type string and an optional position which is set will position the parameter in the order set 0, 1, 2, etc if not set then the parameter will be displayed in the order it&rsquo;s defined. Application parameters will be saved under settings so the application should use parameters from settings.</p>

<p>NOTE: The hidden parameter option will not be visible to the user in the installation process but will be written under the application settings.</p>

<p>The following are examples of parameters that can be set for agent or the job applications respectively:</p>

<p>Agent Parameters example:</p>
<pre class="highlight plaintext"><code>Example of agent parameters that can be defined for an agent application:

    "agent_parameters": {
      "config_file_path": {
        "description": "Config file location",
        "required": true,
        "type": "string",
        "default": "",
        "setting": "config_file_path"
      },
      "data_dir": {
        "description": "Folder location to save database files for the agent app",
        "required": true,
        "type": "string",
        "default": "C:/bodhiAgent/node_modules/merit-agent-labor/_xmloutput/",
        "setting": "data_dir"
      },
      "number_of_days_to_query": {
        "description": "Limit query to this number of days",
        "required": true,
        "type": "integer",
        "default": 60,
        "setting": "number_of_days_to_query"
      },
      "interval": {
        "description": "How often to execute a grind",
        "required": true,
        "type": "string",
        "default": "every 12 hours",
        "setting": "interval"
      },
      "local_storage_ignore_flag": {
        "description": "Ignore local storage and write all data",
        "required": true,
        "type": "boolean",
        "default": false,
        "setting": "local_storage_ignore_flag"
      }
    }
</code></pre>

<ul>
<li>All Parameters have the following 
This example sets up four parameters: timing_expression, brink_location, accessToken and uri.</li>
</ul>
<pre class="highlight plaintext"><code>Job Parameters example:
    "job_parameters": {
      "timing_expression": {
        "description": "How often to execute a job",
        "repeat": true,
        "type": "string",
        "default": "60 minutes"
      },
      "brink_location": {
        "description": "The alpha numeric string provided by the Brink POS API to identify the store location, e.g. tSm8y1TMSk7J4ZMyQBpeTg==",
        "type": "string",
        "required": true,
        "setting": "brink_location"
      },
      "accessToken": {
        "description": "The alpha numeric string provided by the Brink POS API to authenticate the user",
        "type": "string",
        "required": true,
        "setting": "accessToken"
      },
      "uri": {
        "description": "The url for the Brink POS API service e.g. https://api2.brinkpos.net/",
        "type": "string",
        "required": true,
        "setting": "uri"
      }
    }
</code></pre>

<p><strong>offline=true/false</strong>  </p>

<p>Offline controls whether the container will cache application information for offline use. If offline=true and the user launches the application, any data that was previously loaded will be available when the device is offline. This will also enable queuing of data to write to the IoT Platform if the application has write permissions.</p>

<p><strong>single_container_app=true/false</strong>  </p>

<p>single_container_app tells the container know whether the app should be displayed with a menu (a collection of apps) or as a standalone single app.
Bodhi Mobile has single_container_app = false. Bodhi Reveal has single_container_app = true</p>

<p><strong>hide_from_global_store=true/false</strong>  </p>

<p>hide_from_global_store controls whether the app is available to the general public to see in the global app store. Apps like Settings which cannot be removed should have hide_from_global_store=true</p>

<p><strong>new_type_required=true/false</strong>  </p>

<p>new_type_required tells the installer of the app in the global app store if the app will run &#39;out of the box&rsquo; or if new custom types need to be installed on the namespace.
NOTE:: if new_type_required=true, troubleshooting_url should be required</p>

<p><strong>screenshots{}</strong> </p>

<p>The screenshots array contains relative paths to screenshots which the Global App Store will use for display purposes. These files should be included in the app folder that is published and the path should be relative to the public_path.</p>

<p><strong>data_dir:{}</strong></p>

<p>The data_dir formatted information contains a description, a required flag, type string and an optional position which is set will position the parameter in the order set 0, 1, 2, etc if not set then the parameter will be displayed in the order it&rsquo;s defined.</p>

<p><strong>&ldquo;autoUpdateVersion&rdquo;: &ldquo;false&rdquo;</strong></p>

<p>This flag prevents autoUpdate version of the app each time you publish.  If you mark this false, you need to manually bump the version of the app each time you update it.  </p>

<p><strong>Example Type Definition</strong></p>

<p>This is an example of an enumeration, embedded_type and custom_type.  </p>

<p><em>NOTE:</em> All enumerations must be declared first, embedded_type must be after enumerations and custom_types have to be defined after enumerations and embedded_types: This example shows the objects as folders under the application&rsquo;s root directory.  This is where you define your json for each type.  There is a one to one correspondence of the type declared in package.json to the json defining that type in the folder under the application.</p>
<pre class="highlight plaintext"><code>Defining your custom schema/types example:
"install": {
"new": {
"model": [
{
"type": "enumeration",
"name": "TypeName",
"object": "Enumerations/TypeName.json"
},
{
"type": "embedded_type",
"name": "InventoryPurchaseOrder",
"object": "Types/InventoryPurchaseOrder.json"
},
{ "type": "custom_type",
"name": "TypeName2",
"object": "Types/TypeName2.json"
}
],
"post-type-install": [
{"action": "POST",
"object": "Data/DataFile.json",
"path": "/resources/DataFile"
}
]
</code></pre>

<p><strong>Adding Scripts and Versioning: &ldquo;versions&rdquo;: [..]</strong></p>

<p>To make an application script available set the following in the settings section of your package.json:</p>

<ul>
<li>version - current script version (might be bound to the current application version)</li>
<li>bundle - a jar name (by default it is &ldquo;script-<version>.jar&rdquo;)</li>
<li>pre-type-install - a marker for pre-install script presence. If this tag is absent - pre-install script will not be executed.</li>
<li>post-type-install - a marker for post-install script presence. If this tag is absent - post-install script will not be executed.</li>
<li>main - fully qulified script class name (by default it is com.bodhi.vertx.appinstaller.script.PreInstall for pre install scripts and com.bodhi.vertx.appinstaller.script.PostInstall for post install scripts:</li>
<li>Example json can be found to in the javascript section &gt;&gt;&gt;&gt;&gt;&gt;</li>
</ul>
<pre class="highlight plaintext"><code>Template for adding scripts/versions to package.json
versions:[
{
    "version": "&lt;script_version&gt;",
    "bundle": "&lt;jar_name&gt;",
    "pre-type-install": {
      "main": "&lt;main_class_name&gt;"
    },
    "post-type-install": {
      "main": "&lt;main_class_name&gt;"
    }
]
</code></pre>
<pre class="highlight plaintext"><code>Example of versions/scripts using seed-data:
    "versions": [
      {
        "bundle": "installer.jar", 
        "post-type-install": {}, 
        "pre-type-install": {}, 
        "seed-data": [
          {
            "action": "POST", 
            "object": "Data/measurements.json", 
            "path": "/resources/InventoryUnitOfMeasure"
          }, 
          {
            "action": "POST", 
            "object": "Data/conversions.json", 
            "path": "/resources/InventoryUomConversion"
          }
        ], 
        "version": "new"
      }, 
      {
        "bundle": "upgrade-3.0.0.jar", 
        "post-type-install": {
          "main": "com.bodhi.vertx.appinstaller.script.DeveloperScript"
        }, 
        "version": "2.7.19"
      }
    ]
</code></pre>

          <h2 id="publishing-to-shop">Publishing to shop</h2>

<p><strong>1</strong> - Ensure that you have your package.json, LICENSE and index.html in the root folder of your application. Note that index.html can be an empty file.</p>

<p><img src="/images/Step1.png" height=250 width="250"></p>

<p><strong>2</strong> - Zip/compress your files. Note that the files we are compressing are the files itself not the project folder.</p>

<p><img src="/images/Step2.png" height=400 width="350"></p>

<p><strong>3</strong> - Login to Bodhi Shop: <a href="https://tools.hotschedules.io/shop/#/my">https://tools.hotschedules.io/shop/#/my</a></p>

<p><img alt="alt text" src="images/Step3.png?raw=true" /></p>

<p><strong>4</strong> - Click Publish App.</p>

<p><img alt="alt text" src="images/Step4.png?raw=true" /></p>

<p><strong>5</strong> - Upload zip file.</p>

<p><img alt="alt text" src="images/Step5.png?raw=true" /></p>

<p><strong>6</strong> - Verify fields are correct then publish.</p>

<p><img alt="alt text" src="images/Step6.png?raw=true" /></p>

<p><strong>7a</strong> - Verify that your application is successfully published.</p>

<p><img alt="alt text" src="images/Step7a.png?raw=true" /></p>

<p><strong>7b</strong> - Make sure your file is found in <a href="https://tools.hotschedules.io/file-upload/#/files">https://tools.hotschedules.io/file-upload/#/files</a>. If it doesn’t exist refer back to configuring your package.json file </p>

<p><img alt="alt text" src="images/Step7b.png?raw=true" /></p>

          <h2 id="monitoring-application">Monitoring Application</h2>

<p>Logs can be found here: <a href="https://tools.hotschedules.io/job-engine-manager/#/jobs?filters=all,all">https://tools.hotschedules.io/job-engine-manager/#/jobs?filters=all,all</a></p>

<p><img alt="alt text" src="images/Logs.png?raw=true" /></p>

          <h1 id="hotschedules-community">HotSchedules Community</h1>

<p>Do you have questions, comments or suggestions on improviements to this documentation? Please subscribe to the HotSchedules Community.</p>

<p><a href="https://help.hotschedules.com/hc/en-us/community/topics">HotSchedules Community</a></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="Code Examples">Code Examples</a>
          </div>
      </div>
    </div>
  </body>
</html>
